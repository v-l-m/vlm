Depuis la mise en production de la V0.8.1

* ajout de la préférence de theme

  ALTER TABLE users ADD COLUMN theme varchar(30) default NULL;

* ajout du paramètre de theme pour les courses (si non null = theme forcé)

  ALTER TABLE races ADD COLUMN theme varchar(30) default NULL;

* Optimisation de la table 'positions'

  ALTER TABLE positions DROP KEY `time`;
  ALTER TABLE positions DROP KEY `idusers`;
  ALTER TABLE positions DROP KEY `race`;
  ALTER TABLE positions ADD KEY (`idusers`, `race`);
  ALTER TABLE positions ADD CONSTRAINT UNIQUE (`idusers`, `race`, `time`);

* Optimisation de la table histpos

  ALTER TABLE histpos DROP KEY `time`;
  ALTER TABLE histpos DROP KEY `idusers`;
  ALTER TABLE histpos DROP KEY `race`;
  ALTER TABLE histpos ADD KEY (`idusers`, `race`);
  ALTER TABLE histpos ADD CONSTRAINT UNIQUE (`idusers`, `race`, `time`);

* Alignement des tables "boat_*"

  ALTER TABLE boat_OceanExpress ADD PRIMARY KEY (`wspeed`, `wheading`);
  ALTER TABLE boat_cigale14 ADD PRIMARY KEY (`wspeed`, `wheading`);
  ALTER TABLE boat_figaro ADD PRIMARY KEY (`wspeed`, `wheading`);
  ALTER TABLE boat_figaro2 ADD PRIMARY KEY (`wspeed`, `wheading`);
  ALTER TABLE boat_imoca60 ADD PRIMARY KEY (`wspeed`, `wheading`);
  ALTER TABLE boat_maxicata ADD PRIMARY KEY (`wspeed`, `wheading`);

* Nettoyage

  DROP TABLE IF EXISTS `wind`;
  DROP TABLE IF EXISTS `winds`;

Depuis la mise en production de la V0.8

* Flag non renseigné : fichier ".png" (image d'un '?')

  UPDATE users SET country="00-UN" WHERE country is NULL;
  ALTER TABLE users ALTER COLUMN country SET DEFAULT '00-UN';

Depuis la 0.7.1 (production vlm au 31/11/2008)

* Suite au nettoyage du code

 UPDATE races SET racename='Le Vent Des Globes' WHERE idraces='20081109';

* Suite au changeset http://dev.virtual-loup-de-mer.org/vlm/changeset/86
(non prise en compte des icegate dans le classement)
(Cf. les commentaires du commit)

* Découpage de schema.sql pour extraction des différents composants
(voir README.txt)
