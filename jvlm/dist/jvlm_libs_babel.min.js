"use strict";var _Verimail$MostCommonE;function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){window.console=window.console||{log:function(){},error:function(){}},t.fn.footable=function(t,n){return t=t||{},this.filter("table").each(function(i,a){e.init(a,t,n)})};var n={events:[]};e.__debug__=JSON.parse(localStorage.getItem("footable_debug"))||!1,e.__debug_options__=JSON.parse(localStorage.getItem("footable_debug_options"))||n,e.debug=function(i,a){if(!e.is.boolean(i))return e.__debug__;e.__debug__=i,e.__debug__?(localStorage.setItem("footable_debug",JSON.stringify(e.__debug__)),e.__debug_options__=t.extend(!0,{},n,a||{}),e.is.hash(a)&&localStorage.setItem("footable_debug_options",JSON.stringify(e.__debug_options__))):(localStorage.removeItem("footable_debug"),localStorage.removeItem("footable_debug_options"))},e.get=function(e){return t(e).first().data("__FooTable__")},e.init=function(t,n,i){var a=e.get(t);return a instanceof e.Table&&a.destroy(),new e.Table(t,n,i)},e.getRow=function(e){var n=t(e).closest("tr");return n.hasClass("footable-detail-row")&&(n=n.prev()),n.data("__FooTableRow__")}}(jQuery,FooTable=window.FooTable||{}),function(t){var e=function(){return!0};t.arr={},t.arr.each=function(e,n){if(t.is.array(e)&&t.is.fn(n))for(var i=0,a=e.length;i<a&&!1!==n(e[i],i);i++);},t.arr.get=function(e,n){var i=[];if(!t.is.array(e))return i;if(!t.is.fn(n))return e;for(var a=0,s=e.length;a<s;a++)n(e[a],a)&&i.push(e[a]);return i},t.arr.any=function(n,i){if(!t.is.array(n))return!1;i=t.is.fn(i)?i:e;for(var a=0,s=n.length;a<s;a++)if(i(n[a],a))return!0;return!1},t.arr.contains=function(e,n){if(!t.is.array(e)||t.is.undef(n))return!1;for(var i=0,a=e.length;i<a;i++)if(e[i]==n)return!0;return!1},t.arr.first=function(n,i){if(!t.is.array(n))return null;i=t.is.fn(i)?i:e;for(var a=0,s=n.length;a<s;a++)if(i(n[a],a))return n[a];return null},t.arr.map=function(e,n){var i=[],a=null;if(!t.is.array(e)||!t.is.fn(n))return i;for(var s=0,o=e.length;s<o;s++)null!=(a=n(e[s],s))&&i.push(a);return i},t.arr.remove=function(e,n){var i=[],a=[];if(!t.is.array(e)||!t.is.fn(n))return a;for(var s=0,o=e.length;s<o;s++)n(e[s],s,a)&&(i.push(s),a.push(e[s]));for(i.sort(function(t,e){return e-t}),s=0,o=i.length;s<o;s++){var r=i[s]-s;e.splice(r,1)}return a},t.arr.delete=function(e,n){var i=-1,a=null;if(!t.is.array(e)||t.is.undef(n))return a;for(var s=0,o=e.length;s<o;s++)if(e[s]==n){i=s,a=e[s];break}return-1!=i&&e.splice(i,1),a},t.arr.replace=function(t,e,n){var i=t.indexOf(e);-1!==i&&(t[i]=n)}}(FooTable),function(t){t.is={},t.is.type=function(t,e){return _typeof(t)===e},t.is.defined=function(t){return void 0!==t},t.is.undef=function(t){return void 0===t},t.is.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.is.date=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},t.is.boolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},t.is.string=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.is.number=function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)},t.is.fn=function(e){return t.is.defined(window)&&e===window.alert||"[object Function]"===Object.prototype.toString.call(e)},t.is.error=function(t){return"[object Error]"===Object.prototype.toString.call(t)},t.is.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.is.hash=function(e){return t.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},t.is.element=function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===_typeof(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.is.promise=function(e){return t.is.object(e)&&t.is.fn(e.then)&&t.is.fn(e.promise)},t.is.jq=function(e){return t.is.defined(window.jQuery)&&e instanceof jQuery&&e.length>0},t.is.moment=function(e){return t.is.defined(window.moment)&&t.is.object(e)&&t.is.boolean(e._isAMomentObject)},t.is.emptyObject=function(e){if(!t.is.hash(e))return!1;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},t.is.emptyArray=function(e){return!t.is.array(e)||0===e.length},t.is.emptyString=function(e){return!t.is.string(e)||0===e.length}}(FooTable),function(t){t.str={},t.str.contains=function(e,n,i){return!t.is.emptyString(e)&&!t.is.emptyString(n)&&(n.length<=e.length&&-1!==(i?e.toUpperCase().indexOf(n.toUpperCase()):e.indexOf(n)))},t.str.containsExact=function(e,n,i){return!(t.is.emptyString(e)||t.is.emptyString(n)||n.length>e.length)&&new RegExp("\\b"+t.str.escapeRegExp(n)+"\\b",i?"i":"").test(e)},t.str.containsWord=function(e,n,i){if(t.is.emptyString(e)||t.is.emptyString(n)||e.length<n.length)return!1;for(var a=e.split(/\W/),s=0,o=a.length;s<o;s++)if(i?a[s].toUpperCase()==n.toUpperCase():a[s]==n)return!0;return!1},t.str.from=function(e,n){return t.is.emptyString(e)?e:t.str.contains(e,n)?e.substring(e.indexOf(n)+1):e},t.str.startsWith=function(e,n){return t.is.emptyString(e)?e==n:e.slice(0,n.length)==n},t.str.toCamelCase=function(e){return t.is.emptyString(e)?e:e.toUpperCase()===e?e.toLowerCase():e.replace(/^([A-Z])|[-\s_](\w)/g,function(e,n,i){return t.is.string(i)?i.toUpperCase():n.toLowerCase()})},t.str.random=function(e){return(e=t.is.emptyString(e)?"":e)+Math.random().toString(36).substr(2,9)},t.str.escapeRegExp=function(e){return t.is.emptyString(e)?e:e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}(FooTable),function(t){function e(){}Object.create||(Object.create=function(){var e=function(){};return function(n){if(arguments.length>1)throw Error("Second argument not supported");if(!t.is.object(n))throw TypeError("Argument must be an object");e.prototype=n;var i=new e;return e.prototype=null,i}}());var n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;e.__extend__=function(e,i,a,s){var o;e[i]=t.is.fn(s)&&n.test(a)?(o=a,function(){var t,e;return t=this._super,this._super=s,e=o.apply(this,arguments),this._super=t,e}):a},e.extend=function(i,a){var s=Array.prototype.slice.call(arguments);function o(e,i,a,s){var o,r;e[i]=t.is.fn(s)&&n.test(a)?(o=a,r=s,function(){var t,e;return t=this._super,this._super=r,e=o.apply(this,arguments),this._super=t,e}):a}if(i=s.shift(),a=s.shift(),t.is.hash(i)){var r=Object.create(this.prototype),l=this.prototype;for(var u in i)"__ctor__"!==u&&o(r,u,i[u],l[u]);var c=t.is.fn(r.__ctor__)?r.__ctor__:function(){if(!t.is.fn(this.construct))throw new SyntaxError('FooTable class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)};return r.construct=t.is.fn(r.construct)?r.construct:function(){},c.prototype=r,r.constructor=c,c.extend=e.extend,c}t.is.string(i)&&t.is.fn(a)&&o(this.prototype,i,a,this.prototype[i])},t.Class=e,t.ClassFactory=t.Class.extend({construct:function(){this.registered={}},contains:function(e){return t.is.defined(this.registered[e])},names:function(){var t,e=[];for(t in this.registered)this.registered.hasOwnProperty(t)&&e.push(t);return e},register:function(e,n,i){if(t.is.string(e)&&t.is.fn(n)){var a=this.registered[e];this.registered[e]={name:e,klass:n,priority:t.is.number(i)?i:t.is.defined(a)?a.priority:0}}},load:function(e,n,i){var a,s,o=this,r=Array.prototype.slice.call(arguments),l=[],u=[];for(a in e=r.shift()||{},o.registered)if(o.registered.hasOwnProperty(a)){var c=o.registered[a];e.hasOwnProperty(a)&&(s=e[a],t.is.string(s)&&(s=t.getFnPointer(e[a])),t.is.fn(s)&&(c={name:a,klass:s,priority:o.registered[a].priority})),l.push(c)}for(a in e)e.hasOwnProperty(a)&&!o.registered.hasOwnProperty(a)&&(s=e[a],t.is.string(s)&&(s=t.getFnPointer(e[a])),t.is.fn(s)&&l.push({name:a,klass:s,priority:0}));return l.sort(function(t,e){return e.priority-t.priority}),t.arr.each(l,function(e){t.is.fn(e.klass)&&u.push(o._make(e.klass,r))}),u},make:function(e,n,i){var a,s=Array.prototype.slice.call(arguments);return e=s.shift(),a=this.registered[e],t.is.fn(a.klass)?this._make(a.klass,s):null},_make:function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n}})}(FooTable),function(t,e){e.css2json=function(n){if(e.is.emptyString(n))return{};for(var i,a,s,o={},r=n.split(";"),l=0,u=r.length;l<u;l++)e.is.emptyString(r[l])||(i=r[l].split(":"),e.is.emptyString(i[0])||e.is.emptyString(i[1])||(a=e.str.toCamelCase(t.trim(i[0])),s=t.trim(i[1]),o[a]=s));return o},e.getFnPointer=function(t){if(e.is.emptyString(t))return null;var n=window,i=t.split(".");return e.arr.each(i,function(t){n[t]&&(n=n[t])}),e.is.fn(n)?n:null},e.checkFnValue=function(t,n,i){function a(t,n,i){return e.is.fn(n)?function(){return n.apply(t,arguments)}:i}return i=e.is.fn(i)?i:null,e.is.fn(n)?a(t,n,i):e.is.type(n,"string")?a(t,e.getFnPointer(n),i):i}}(jQuery,FooTable),function(t,e){e.Cell=e.Class.extend({construct:function(t,e,n,i){this.ft=t,this.row=e,this.column=n,this.created=!1,this.define(i)},define:function(n){this.$el=e.is.element(n)||e.is.jq(n)?t(n):null,this.$detail=null;var i=e.is.hash(n)&&e.is.hash(n.options)&&e.is.defined(n.value);this.value=this.column.parser.call(this.column,e.is.jq(this.$el)?this.$el:i?n.value:n,this.ft.o),this.o=t.extend(!0,{classes:null,style:null},i?n.options:{}),this.classes=e.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").match(/\S+/g):e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.jq(this.$el)&&this.$el.attr("style")?e.css2json(this.$el.attr("style")):e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{}},$create:function(){this.created||((this.$el=e.is.jq(this.$el)?this.$el:t("<td/>")).data("value",this.value).contents().detach().end().append(this.format(this.value)),this._setClasses(this.$el),this._setStyle(this.$el),this.$detail=t("<tr/>").addClass(this.row.classes.join(" ")).data("__FooTableCell__",this).append(t("<th/>")).append(t("<td/>")),this.created=!0)},collapse:function(){this.created&&(this.$detail.children("th").html(this.column.title),this.$el.clone().attr("id",this.$el.attr("id")?this.$el.attr("id")+"-detail":void 0).css("display","table-cell").html("").append(this.$el.contents().detach()).replaceAll(this.$detail.children("td").first()),e.is.jq(this.$detail.parent())||this.$detail.appendTo(this.row.$details.find(".footable-details > tbody")))},restore:function(){if(this.created){if(e.is.jq(this.$detail.parent())){var t=this.$detail.children("td").first();this.$el.attr("class",t.attr("class")).attr("style",t.attr("style")).css("display",this.column.hidden||!this.column.visible?"none":"table-cell").append(t.contents().detach())}this.$detail.detach()}},parse:function(){return this.column.parser.call(this.column,this.$el,this.ft.o)},format:function(t){return this.column.formatter.call(this.column,t,this.ft.o,this.row.value)},val:function(n,i,a){if(e.is.undef(n))return this.value;var s=e.is.hash(n)&&e.is.hash(n.options)&&e.is.defined(n.value);if(this.o=t.extend(!0,{classes:this.classes,style:this.style},s?n.options:{}),this.value=s?n.value:n,this.classes=e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},a=!e.is.boolean(a)||a,this.created&&a){this.$el.data("value",this.value).empty();var o=this.$detail.children("td").first().empty(),r=e.is.jq(this.$detail.parent())?o:this.$el;r.append(this.format(this.value)),this._setClasses(r),this._setStyle(r),e.is.boolean(i)&&!i||this.row.draw()}},_setClasses:function(t){var n=!e.is.emptyArray(this.column.classes),i=!e.is.emptyArray(this.classes),a=null;t.removeAttr("class"),(n||i)&&(n&&i?a=this.classes.concat(this.column.classes).join(" "):n?a=this.column.classes.join(" "):i&&(a=this.classes.join(" ")),e.is.emptyString(a)||t.addClass(a))},_setStyle:function(n){var i=!e.is.emptyObject(this.column.style),a=!e.is.emptyObject(this.style),s=null;n.removeAttr("style"),(i||a)&&(i&&a?s=t.extend({},this.column.style,this.style):i?s=this.column.style:a&&(s=this.style),e.is.hash(s)&&n.css(s))}})}(jQuery,FooTable),function(t,e){e.Column=e.Class.extend({construct:function(t,n,i){this.ft=t,this.type=e.is.emptyString(i)?"text":i,this.virtual=!!e.is.boolean(n.virtual)&&n.virtual,this.$el=e.is.jq(n.$el)?n.$el:null,this.index=e.is.number(n.index)?n.index:-1,this.internal=!1,this.define(n),this.$create()},define:function(t){this.hidden=!!e.is.boolean(t.hidden)&&t.hidden,this.visible=!e.is.boolean(t.visible)||t.visible,this.name=e.is.string(t.name)?t.name:null,null==this.name&&(this.name="col"+(t.index+1)),this.title=e.is.string(t.title)?t.title:null,!this.virtual&&null==this.title&&e.is.jq(this.$el)&&(this.title=this.$el.html()),null==this.title&&(this.title="Column "+(t.index+1)),this.style=e.is.hash(t.style)?t.style:e.is.string(t.style)?e.css2json(t.style):{},this.classes=e.is.array(t.classes)?t.classes:e.is.string(t.classes)?t.classes.match(/\S+/g):[],this.parser=e.checkFnValue(this,t.parser,this.parser),this.formatter=e.checkFnValue(this,t.formatter,this.formatter)},$create:function(){(this.$el=!this.virtual&&e.is.jq(this.$el)?this.$el:t("<th/>")).html(this.title).addClass(this.classes.join(" ")).css(this.style)},parser:function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("value");return e.is.defined(i)?i:t(n).html()}return e.is.defined(n)&&null!=n?n+"":null},formatter:function(t,e,n){return null==t?"":t},createCell:function(t){var n=e.is.jq(t.$el)?t.$el.children("td,th").get(this.index):null,i=e.is.hash(t.value)?t.value[this.name]:null;return new e.Cell(this.ft,t,this,n||i)}}),e.columns=new e.ClassFactory,e.columns.register("text",e.Column)}(jQuery,FooTable),function(t,e){e.Component=e.Class.extend({construct:function(t,n){if(!(t instanceof e.Table))throw new TypeError("The instance parameter must be an instance of FooTable.Table.");this.ft=t,this.enabled=!!e.is.boolean(n)&&n},preinit:function(t){},init:function(){},destroy:function(){},predraw:function(){},draw:function(){},postdraw:function(){}}),e.components=new e.ClassFactory}(jQuery,FooTable),function(t,e){e.Defaults=function(){this.stopPropagation=!1,this.on=null},e.defaults=new e.Defaults}(jQuery,FooTable),function(t,e){e.Row=e.Class.extend({construct:function(t,e,n){this.ft=t,this.columns=e,this.created=!1,this.define(n)},define:function(n){this.$el=e.is.element(n)||e.is.jq(n)?t(n):null,this.$toggle=t("<span/>",{class:"footable-toggle fooicon fooicon-plus"});var i=e.is.hash(n),a=i&&e.is.hash(n.options)&&e.is.hash(n.value);this.value=i?a?n.value:n:null,this.o=t.extend(!0,{expanded:!1,classes:null,style:null},a?n.options:{}),this.expanded=e.is.jq(this.$el)&&this.$el.data("expanded")||this.o.expanded,this.classes=e.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").match(/\S+/g):e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.jq(this.$el)&&this.$el.attr("style")?e.css2json(this.$el.attr("style")):e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},this.cells=this.createCells();var s=this;s.value={},e.arr.each(s.cells,function(t){s.value[t.column.name]=t.val()})},$create:function(){if(!this.created){(this.$el=e.is.jq(this.$el)?this.$el:t("<tr/>")).data("__FooTableRow__",this),this._setClasses(this.$el),this._setStyle(this.$el),"last"==this.ft.rows.toggleColumn&&this.$toggle.addClass("last-column"),this.$details=t("<tr/>",{class:"footable-detail-row"}).append(t("<td/>",{colspan:this.ft.columns.visibleColspan}).append(t("<table/>",{class:"footable-details "+this.ft.classes.join(" ")}).append("<tbody/>")));var n=this;e.arr.each(n.cells,function(t){t.created||t.$create(),n.$el.append(t.$el)}),n.$el.off("click.ft.row").on("click.ft.row",{self:n},n._onToggle),this.created=!0}},createCells:function(){var t=this;return e.arr.map(t.columns,function(e){return e.createCell(t)})},val:function(n,i,a){var s=this;if(!e.is.hash(n))return e.is.hash(this.value)&&!e.is.emptyObject(this.value)||(this.value={},e.arr.each(this.cells,function(t){t.column.internal||(s.value[t.column.name]=t.val())})),this.value;this.collapse(!1);var o=e.is.hash(n),r=o&&e.is.hash(n.options)&&e.is.hash(n.value);if(this.o=t.extend(!0,{expanded:s.expanded,classes:s.classes,style:s.style},r?n.options:{}),this.expanded=this.o.expanded,this.classes=e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},o)if(r&&(n=n.value),e.is.hash(this.value))for(var l in n)n.hasOwnProperty(l)&&(this.value[l]=n[l]);else this.value=n;else this.value=null;a=!e.is.boolean(a)||a,e.arr.each(this.cells,function(t){!t.column.internal&&e.is.defined(s.value[t.column.name])&&t.val(s.value[t.column.name],!1,a)}),this.created&&a&&(this._setClasses(this.$el),this._setStyle(this.$el),e.is.boolean(i)&&!i||this.draw())},_setClasses:function(t){var n=!e.is.emptyArray(this.classes),i=null;t.removeAttr("class"),n&&(i=this.classes.join(" "),e.is.emptyString(i)||t.addClass(i))},_setStyle:function(t){var n=!e.is.emptyObject(this.style),i=null;t.removeAttr("style"),n&&(i=this.style,e.is.hash(i)&&t.css(i))},expand:function(){if(this.created){var t=this;t.ft.raise("expand.ft.row",[t]).then(function(){t.__hidden__=e.arr.map(t.cells,function(t){return t.column.hidden&&t.column.visible?t:null}),t.__hidden__.length>0&&(t.$details.insertAfter(t.$el).children("td").first().attr("colspan",t.ft.columns.visibleColspan),e.arr.each(t.__hidden__,function(t){t.collapse()})),t.$el.attr("data-expanded",!0),t.$toggle.removeClass("fooicon-plus").addClass("fooicon-minus"),t.expanded=!0,t.ft.raise("expanded.ft.row",[t])})}},collapse:function(t){if(this.created){var n=this;n.ft.raise("collapse.ft.row",[n]).then(function(){e.arr.each(n.__hidden__,function(t){t.restore()}),n.$details.detach(),n.$el.removeAttr("data-expanded"),n.$toggle.removeClass("fooicon-minus").addClass("fooicon-plus"),e.is.boolean(t)&&!t||(n.expanded=!1),n.ft.raise("collapsed.ft.row",[n])})}},predraw:function(t){this.created&&(this.expanded&&this.collapse(!1),this.$toggle.detach(),(t=!e.is.boolean(t)||t)&&this.$el.detach())},draw:function(t){this.created||this.$create(),e.is.jq(t)&&t.append(this.$el);var n=this;e.arr.each(n.cells,function(t){t.$el.css("display",t.column.hidden||!t.column.visible?"none":"table-cell"),n.ft.rows.showToggle&&n.ft.columns.hasHidden&&("first"==n.ft.rows.toggleColumn&&t.column.index==n.ft.columns.firstVisibleIndex||"last"==n.ft.rows.toggleColumn&&t.column.index==n.ft.columns.lastVisibleIndex)&&t.$el.prepend(n.$toggle),t.$el.add(t.column.$el).removeClass("footable-first-visible footable-last-visible"),t.column.index==n.ft.columns.firstVisibleIndex&&t.$el.add(t.column.$el).addClass("footable-first-visible"),t.column.index==n.ft.columns.lastVisibleIndex&&t.$el.add(t.column.$el).addClass("footable-last-visible")}),this.expanded&&this.expand()},toggle:function(){this.created&&this.ft.columns.hasHidden&&(this.expanded?this.collapse():this.expand())},_onToggle:function(e){var n=e.data.self;t(e.target).is(n.ft.rows.toggleSelector)&&n.toggle()}})}(jQuery,FooTable),function(t,e){e.instances=[],e.Table=e.Class.extend({construct:function(n,i,a){this._resizeTimeout=null,this.id=e.instances.push(this),this.initialized=!1,this.$el=(e.is.jq(n)?n:t(n)).first(),this.$loader=t("<div/>",{class:"footable-loader"}).append(t("<span/>",{class:"fooicon fooicon-loader"})),this.o=t.extend(!0,{},e.defaults,i),this.data=this.$el.data()||{},this.classes=[],this.components=e.components.load(e.is.hash(this.data.components)?this.data.components:this.o.components,this),this.breakpoints=this.use(FooTable.Breakpoints),this.columns=this.use(FooTable.Columns),this.rows=this.use(FooTable.Rows),this._construct(a)},_construct:function(t){var n=this;return this._preinit().then(function(){return n._init().then(function(){return n.raise("ready.ft.table").then(function(){e.is.fn(t)&&t.call(n,n)})})}).always(function(t){n.$el.show(),e.is.error(t)&&console.error("FooTable: unhandled error thrown during initialization.",t)})},_preinit:function(){var t=this;return this.raise("preinit.ft.table",[t.data]).then(function(){var n=(t.$el.attr("class")||"").match(/\S+/g)||[];t.o.ajax=e.checkFnValue(t,t.data.ajax,t.o.ajax),t.o.stopPropagation=e.is.boolean(t.data.stopPropagation)?t.data.stopPropagation:t.o.stopPropagation;for(var i=0,a=n.length;i<a;i++)e.str.startsWith(n[i],"footable")||t.classes.push(n[i]);return t.$el.hide().after(t.$loader),t.execute(!1,!1,"preinit",t.data)})},_init:function(){var n=this;return n.raise("init.ft.table").then(function(){var i=n.$el.children("thead"),a=n.$el.children("tbody"),s=n.$el.children("tfoot");return n.$el.addClass("footable footable-"+n.id),e.is.hash(n.o.on)&&n.$el.on(n.o.on),0==s.length&&n.$el.append(s=t("<tfoot/>")),0==a.length&&n.$el.append("<tbody/>"),0==i.length&&n.$el.prepend(i=t("<thead/>")),n.execute(!1,!0,"init").then(function(){return n.$el.data("__FooTable__",n),0==s.children("tr").length&&s.remove(),0==i.children("tr").length&&i.remove(),n.raise("postinit.ft.table").then(function(){return n.draw()}).always(function(){t(window).off("resize.ft"+n.id,n._onWindowResize).on("resize.ft"+n.id,{self:n},n._onWindowResize),n.initialized=!0})})})},destroy:function(){var n=this;return n.raise("destroy.ft.table").then(function(){return n.execute(!0,!0,"destroy").then(function(){n.$el.removeData("__FooTable__").removeClass("footable-"+n.id),e.is.hash(n.o.on)&&n.$el.off(n.o.on),t(window).off("resize.ft"+n.id,n._onWindowResize),n.initialized=!1,e.instances[n.id]=null})}).fail(function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown while destroying the plugin.",t)})},raise:function(n,i){var a=this,s=e.__debug__&&(e.is.emptyArray(e.__debug_options__.events)||e.arr.any(e.__debug_options__.events,function(t){return e.str.contains(n,t)}));return(i=i||[]).unshift(this),t.Deferred(function(e){var o=t.Event(n);1==a.o.stopPropagation&&a.$el.one(n,function(t){t.stopPropagation()}),s&&console.log("FooTable:"+n+": ",i),a.$el.trigger(o,i),o.isDefaultPrevented()?(s&&console.log('FooTable: default prevented for the "'+n+'" event.'),e.reject(o)):e.resolve(o)})},use:function(t){for(var e=0,n=this.components.length;e<n;e++)if(this.components[e]instanceof t)return this.components[e];return null},draw:function(){var t=this,n=t.$el.clone().insertBefore(t.$el);return t.$el.detach(),t.execute(!1,!0,"predraw").then(function(){return t.raise("predraw.ft.table").then(function(){return t.execute(!1,!0,"draw").then(function(){return t.raise("draw.ft.table").then(function(){return t.execute(!1,!0,"postdraw").then(function(){return t.raise("postdraw.ft.table")})})})})}).fail(function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown during a draw operation.",t)}).always(function(){n.replaceWith(t.$el),t.$loader.remove()})},execute:function(t,n,i,a,s){var o=Array.prototype.slice.call(arguments);t=o.shift();var r=o.shift()?e.arr.get(this.components,function(t){return t.enabled}):this.components.slice(0);return o.unshift(t?r.reverse():r),this._execute.apply(this,o)},_execute:function(n,i,a,s){if(!n||!n.length)return t.when();var o,r=this,l=Array.prototype.slice.call(arguments);return n=l.shift(),i=l.shift(),o=n.shift(),e.is.fn(o[i])?t.Deferred(function(t){try{var n=o[i].apply(o,l);if(e.is.promise(n))return n.then(t.resolve,t.reject);t.resolve(n)}catch(e){t.reject(e)}}).then(function(){return r._execute.apply(r,[n,i].concat(l))}):r._execute.apply(r,[n,i].concat(l))},_onWindowResize:function(t){var e=t.data.self;null!=e._resizeTimeout&&clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e.raise("resize.ft.table").then(function(){e.breakpoints.check()})},300)}})}(jQuery,FooTable),function(t,e){e.ArrayColumn=e.Column.extend({construct:function(t,e){this._super(t,e,"array")},parser:function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n),a=i.data("value");if(e.is.array(a))return a;a=i.html();try{a=JSON.parse(a)}catch(t){a=null}return e.is.array(a)?a:null}return e.is.array(n)?n:null},formatter:function(t,n,i){return e.is.array(t)?JSON.stringify(t):""}}),e.columns.register("array",e.ArrayColumn)}(jQuery,FooTable),function(t,e){e.is.undef(window.moment)||(e.DateColumn=e.Column.extend({construct:function(t,n){this._super(t,n,"date"),this.formatString=e.is.string(n.formatString)?n.formatString:"MM-DD-YYYY"},parser:function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("value");n=e.is.defined(i)?i:t(n).text(),e.is.string(n)&&(n=isNaN(n)?n:+n)}if(e.is.date(n))return moment(n);if(e.is.object(n)&&e.is.boolean(n._isAMomentObject))return n;if(e.is.string(n)){if(isNaN(n))return moment(n,this.formatString);n=+n}return e.is.number(n)?moment(n):null},formatter:function(t,n,i){return e.is.object(t)&&e.is.boolean(t._isAMomentObject)&&t.isValid()?t.format(this.formatString):""},filterValue:function(n){if((e.is.element(n)||e.is.jq(n))&&(n=t(n).data("filterValue")||t(n).text()),e.is.hash(n)&&e.is.hash(n.options)&&(e.is.string(n.options.filterValue)&&(n=n.options.filterValue),e.is.defined(n.value)&&(n=n.value)),e.is.object(n)&&e.is.boolean(n._isAMomentObject))return n.format(this.formatString);if(e.is.string(n)){if(isNaN(n))return n;n=+n}return e.is.number(n)||e.is.date(n)?moment(n).format(this.formatString):e.is.defined(n)&&null!=n?n+"":""}}),e.columns.register("date",e.DateColumn))}(jQuery,FooTable),function(t,e){e.HTMLColumn=e.Column.extend({construct:function(t,e){this._super(t,e,"html")},parser:function(n){if(e.is.string(n)&&(n=t(t.trim(n))),e.is.element(n)&&(n=t(n)),e.is.jq(n)){var i=n.prop("tagName").toLowerCase();if("td"==i||"th"==i){var a=n.data("value");return e.is.defined(a)?a:n.contents()}return n}return null}}),e.columns.register("html",e.HTMLColumn)}(jQuery,FooTable),function(t,e){e.NumberColumn=e.Column.extend({construct:function(t,n){this._super(t,n,"number"),this.decimalSeparator=e.is.string(n.decimalSeparator)?n.decimalSeparator:".",this.thousandSeparator=e.is.string(n.thousandSeparator)?n.thousandSeparator:",",this.decimalSeparatorRegex=new RegExp(e.str.escapeRegExp(this.decimalSeparator),"g"),this.thousandSeparatorRegex=new RegExp(e.str.escapeRegExp(this.thousandSeparator),"g"),this.cleanRegex=new RegExp("[^-0-9"+e.str.escapeRegExp(this.decimalSeparator)+"]","g")},parser:function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("value");n=e.is.defined(i)?i:t(n).text().replace(this.cleanRegex,"")}return e.is.string(n)&&(n=n.replace(this.thousandSeparatorRegex,"").replace(this.decimalSeparatorRegex,"."),n=parseFloat(n)),e.is.number(n)?n:null},formatter:function(t,e,n){if(null==t)return"";var i=(t+"").split(".");return 2==i.length&&i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,this.thousandSeparator)),i.join(this.decimalSeparator)}}),e.columns.register("number",e.NumberColumn)}(jQuery,FooTable),function(t,e){e.ObjectColumn=e.Column.extend({construct:function(t,e){this._super(t,e,"object")},parser:function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n),a=i.data("value");if(e.is.object(a))return a;a=i.html();try{a=JSON.parse(a)}catch(t){a=null}return e.is.object(a)?a:null}return e.is.object(n)?n:null},formatter:function(t,n,i){return e.is.object(t)?JSON.stringify(t):""}}),e.columns.register("object",e.ObjectColumn)}(jQuery,FooTable),function(t,e){e.Breakpoint=e.Class.extend({construct:function(t,e){this.name=t,this.width=e}})}(jQuery,FooTable),function(t,e){e.Breakpoints=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.current=null,this.array=[],this.cascade=this.o.cascade,this.useParentWidth=this.o.useParentWidth,this.hidden=null,this._classNames="",this.getWidth=e.checkFnValue(this,this.o.getWidth,this.getWidth)},preinit:function(t){var n=this;return this.ft.raise("preinit.ft.breakpoints",[t]).then(function(){for(var i in n.cascade=e.is.boolean(t.cascade)?t.cascade:n.cascade,n.o.breakpoints=e.is.hash(t.breakpoints)?t.breakpoints:n.o.breakpoints,n.getWidth=e.checkFnValue(n,t.getWidth,n.getWidth),null==n.o.breakpoints&&(n.o.breakpoints={xs:480,sm:768,md:992,lg:1200}),n.o.breakpoints)n.o.breakpoints.hasOwnProperty(i)&&(n.array.push(new e.Breakpoint(i,n.o.breakpoints[i])),n._classNames+="breakpoint-"+i+" ");n.array.sort(function(t,e){return e.width-t.width})})},init:function(){var t=this;return this.ft.raise("init.ft.breakpoints").then(function(){t.current=t.get()})},draw:function(){this.ft.$el.removeClass(this._classNames).addClass("breakpoint-"+this.current.name)},calculate:function(){for(var t,n=null,i=[],a=null,s=this.getWidth(),o=0,r=this.array.length;o<r;o++)t=this.array[o],(!n&&o==r-1||s>=t.width&&(!(a instanceof e.Breakpoint)||s<a.width))&&(n=t),n||i.push(t.name),a=t;return i.push(n.name),this.hidden=i.join(" "),n},visible:function(t){if(e.is.emptyString(t))return!0;if("all"===t)return!1;for(var n=t.split(" "),i=0,a=n.length;i<a;i++)if(this.cascade?e.str.containsWord(this.hidden,n[i]):n[i]==this.current.name)return!1;return!0},check:function(){var t=this,n=t.get();n instanceof e.Breakpoint&&n!=t.current&&t.ft.raise("before.ft.breakpoints",[t.current,n]).then(function(){var e=t.current;return t.current=n,t.ft.draw().then(function(){t.ft.raise("after.ft.breakpoints",[t.current,e])})})},get:function(t){return e.is.undef(t)?this.calculate():t instanceof e.Breakpoint?t:e.is.string(t)?e.arr.first(this.array,function(e){return e.name==t}):e.is.number(t)&&t>=0&&t<this.array.length?this.array[t]:null},getWidth:function(){return e.is.fn(this.o.getWidth)?this.o.getWidth(this.ft):1==this.useParentWidth?this.getParentWidth():this.getViewportWidth()},getParentWidth:function(){return this.ft.$el.parent().width()},getViewportWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth,0)}}),e.components.register("breakpoints",e.Breakpoints,1e3)}(jQuery,FooTable),function(t){t.Column.prototype.breakpoints=null,t.Column.prototype.__breakpoints_define__=function(e){this.breakpoints=t.is.emptyString(e.breakpoints)?null:e.breakpoints},t.Column.extend("define",function(t){this._super(t),this.__breakpoints_define__(t)})}(FooTable),function(t){t.Defaults.prototype.breakpoints=null,t.Defaults.prototype.cascade=!1,t.Defaults.prototype.useParentWidth=!1,t.Defaults.prototype.getWidth=null}(FooTable),function(t,e){e.Columns=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.array=[],this.$header=null,this.showHeader=t.o.showHeader,this._fromHTML=e.is.emptyArray(t.o.columns)&&!e.is.promise(t.o.columns)},parse:function(n){var i=this;return t.Deferred(function(n){function a(n,i){var a=[];if(0==n.length||0==i.length)a=n.concat(i);else{var s=0;e.arr.each(n.concat(i),function(t){t.index>s&&(s=t.index)}),s++;for(var o,r,l=0;l<s;l++)o={},e.arr.each(n,function(t){if(t.index==l)return o=t,!1}),r={},e.arr.each(i,function(t){if(t.index==l)return r=t,!1}),a.push(t.extend(!0,{},o,r))}return a}var s,o,r=[],l=[],u=i.ft.$el.find("tr.footable-header, thead > tr:last:has([data-breakpoints]), tbody > tr:first:has([data-breakpoints]), thead > tr:last, tbody > tr:first").first();if(u.length>0){var c=u.parent().is("tbody")&&u.children().length==u.children("td").length;c||(i.$header=u.addClass("footable-header")),u.children("td,th").each(function(e,n){s=t(n),(o=s.data()).index=e,o.$el=s,o.virtual=c,l.push(o)}),c&&(i.showHeader=!1)}e.is.array(i.o.columns)&&!e.is.emptyArray(i.o.columns)?(e.arr.each(i.o.columns,function(t,e){t.index=e,r.push(t)}),i.parseFinalize(n,a(r,l))):e.is.promise(i.o.columns)?i.o.columns.then(function(t){e.arr.each(t,function(t,e){t.index=e,r.push(t)}),i.parseFinalize(n,a(r,l))},function(t){n.reject(Error("Columns ajax request error: "+t.status+" ("+t.statusText+")"))}):i.parseFinalize(n,a(r,l))})},parseFinalize:function(t,n){var i,a=this,s=[];e.arr.each(n,function(t){(i=e.columns.contains(t.type)?e.columns.make(t.type,a.ft,t):new e.Column(a.ft,t))&&s.push(i)}),e.is.emptyArray(s)?t.reject(Error("No columns supplied.")):(s.sort(function(t,e){return t.index-e.index}),t.resolve(s))},preinit:function(t){var n=this;return n.ft.raise("preinit.ft.columns",[t]).then(function(){return n.parse(t).then(function(i){n.array=i,n.showHeader=e.is.boolean(t.showHeader)?t.showHeader:n.showHeader})})},init:function(){var t=this;return this.ft.raise("init.ft.columns",[t.array]).then(function(){t.$create()})},destroy:function(){var t=this;this.ft.raise("destroy.ft.columns").then(function(){t._fromHTML||t.$header.remove()})},predraw:function(){var t=this,n=!0;t.visibleColspan=0,t.firstVisibleIndex=0,t.lastVisibleIndex=0,t.hasHidden=!1,e.arr.each(t.array,function(e){e.hidden=!t.ft.breakpoints.visible(e.breakpoints),!e.hidden&&e.visible&&(n&&(t.firstVisibleIndex=e.index,n=!1),t.lastVisibleIndex=e.index,t.visibleColspan++),e.hidden&&(t.hasHidden=!0)}),t.ft.$el.toggleClass("breakpoint",t.hasHidden)},draw:function(){e.arr.each(this.array,function(t){t.$el.css("display",t.hidden||!t.visible?"none":"table-cell")}),!this.showHeader&&e.is.jq(this.$header.parent())&&this.$header.detach()},$create:function(){var n=this;n.$header=e.is.jq(n.$header)?n.$header:t("<tr/>",{class:"footable-header"}),n.$header.children("th,td").detach(),e.arr.each(n.array,function(t){n.$header.append(t.$el)}),n.showHeader&&!e.is.jq(n.$header.parent())&&n.ft.$el.children("thead").append(n.$header)},get:function(t){return t instanceof e.Column?t:e.is.string(t)?e.arr.first(this.array,function(e){return e.name==t}):e.is.number(t)?e.arr.first(this.array,function(e){return e.index==t}):e.is.fn(t)?e.arr.get(this.array,t):null},ensure:function(t){var n=this,i=[];return e.is.array(t)?(e.arr.each(t,function(t){i.push(n.get(t))}),i):i}}),e.components.register("columns",e.Columns,900)}(jQuery,FooTable),function(t){t.Defaults.prototype.columns=[],t.Defaults.prototype.showHeader=!0}(FooTable),function(t,e){e.Rows=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.array=[],this.all=[],this.showToggle=t.o.showToggle,this.toggleSelector=t.o.toggleSelector,this.toggleColumn=t.o.toggleColumn,this.emptyString=t.o.empty,this.expandFirst=t.o.expandFirst,this.expandAll=t.o.expandAll,this.$empty=null,this._fromHTML=e.is.emptyArray(t.o.rows)&&!e.is.promise(t.o.rows)},parse:function(){var n=this;return t.Deferred(function(t){var i=n.ft.$el.children("tbody").children("tr");e.is.array(n.o.rows)&&n.o.rows.length>0?n.parseFinalize(t,n.o.rows):e.is.promise(n.o.rows)?n.o.rows.then(function(e){n.parseFinalize(t,e)},function(e){t.reject(Error("Rows ajax request error: "+e.status+" ("+e.statusText+")"))}):e.is.jq(i)?(n.parseFinalize(t,i),i.detach()):n.parseFinalize(t,[])})},parseFinalize:function(n,i){var a=this,s=t.map(i,function(t){return new e.Row(a.ft,a.ft.columns.array,t)});n.resolve(s)},preinit:function(t){var n=this;return n.ft.raise("preinit.ft.rows",[t]).then(function(){return n.parse().then(function(i){n.all=i,n.array=n.all.slice(0),n.showToggle=e.is.boolean(t.showToggle)?t.showToggle:n.showToggle,n.toggleSelector=e.is.string(t.toggleSelector)?t.toggleSelector:n.toggleSelector,n.toggleColumn=e.is.string(t.toggleColumn)?t.toggleColumn:n.toggleColumn,"first"!=n.toggleColumn&&"last"!=n.toggleColumn&&(n.toggleColumn="first"),n.emptyString=e.is.string(t.empty)?t.empty:n.emptyString,n.expandFirst=e.is.boolean(t.expandFirst)?t.expandFirst:n.expandFirst,n.expandAll=e.is.boolean(t.expandAll)?t.expandAll:n.expandAll})})},init:function(){var t=this;return t.ft.raise("init.ft.rows",[t.all]).then(function(){t.$create()})},destroy:function(){var t=this;this.ft.raise("destroy.ft.rows").then(function(){e.arr.each(t.array,function(e){e.predraw(!t._fromHTML)}),t.all=t.array=[]})},predraw:function(){e.arr.each(this.array,function(t){t.predraw()}),this.array=this.all.slice(0)},$create:function(){this.$empty=t("<tr/>",{class:"footable-empty"}).append(t("<td/>").text(this.emptyString))},draw:function(){var t=this,n=t.ft.$el.children("tbody"),i=!0;t.array.length>0?(t.$empty.detach(),e.arr.each(t.array,function(e){(t.expandFirst&&i||t.expandAll)&&(e.expanded=!0,i=!1),e.draw(n)})):(t.$empty.children("td").attr("colspan",t.ft.columns.visibleColspan),n.append(t.$empty))},load:function(n,i){var a=this,s=t.map(n,function(t){return new e.Row(a.ft,a.ft.columns.array,t)});e.arr.each(this.array,function(t){t.predraw()}),this.all=e.is.boolean(i)&&i?this.all.concat(s):s,this.array=this.all.slice(0),this.ft.draw()},expand:function(){e.arr.each(this.array,function(t){t.expand()})},collapse:function(){e.arr.each(this.array,function(t){t.collapse()})}}),e.components.register("rows",e.Rows,800)}(jQuery,FooTable),function(t){t.Defaults.prototype.rows=[],t.Defaults.prototype.empty="No results",t.Defaults.prototype.showToggle=!0,t.Defaults.prototype.toggleSelector="tr,td,.footable-toggle",t.Defaults.prototype.toggleColumn="first",t.Defaults.prototype.expandFirst=!1,t.Defaults.prototype.expandAll=!1}(FooTable),FooTable.Table.prototype.loadRows=function(t,e){this.rows.load(t,e)},function(t){t.Filter=t.Class.extend({construct:function(e,n,i,a,s,o,r){this.name=e,this.space=!t.is.string(a)||"OR"!=a&&"AND"!=a?"AND":a,this.connectors=!t.is.boolean(s)||s,this.ignoreCase=!t.is.boolean(o)||o,this.hidden=!!t.is.boolean(r)&&r,this.query=n instanceof t.Query?n:new t.Query(n,this.space,this.connectors,this.ignoreCase),this.columns=i},match:function(e){return!!t.is.string(e)&&(t.is.string(this.query)&&(this.query=new t.Query(this.query,this.space,this.connectors,this.ignoreCase)),this.query instanceof t.Query&&this.query.match(e))},matchRow:function(e){var n=this,i=t.arr.map(e.cells,function(e){return t.arr.contains(n.columns,e.column)?e.filterValue:null}).join(" ");return n.match(i)}})}(FooTable),function(t,e){e.Filtering=e.Component.extend({construct:function(t){this._super(t,t.o.filtering.enabled),this.filters=t.o.filtering.filters,this.delay=t.o.filtering.delay,this.min=t.o.filtering.min,this.space=t.o.filtering.space,this.connectors=t.o.filtering.connectors,this.ignoreCase=t.o.filtering.ignoreCase,this.exactMatch=t.o.filtering.exactMatch,this.placeholder=t.o.filtering.placeholder,this.dropdownTitle=t.o.filtering.dropdownTitle,this.position=t.o.filtering.position,this.focus=t.o.filtering.focus,this.container=t.o.filtering.container,this.$container=null,this.$row=null,this.$cell=null,this.$form=null,this.$dropdown=null,this.$input=null,this.$button=null,this._filterTimeout=null,this._exactRegExp=/^"(.*?)"$/},preinit:function(t){var n=this;return n.ft.raise("preinit.ft.filtering").then(function(){n.ft.$el.hasClass("footable-filtering")&&(n.enabled=!0),n.enabled=e.is.boolean(t.filtering)?t.filtering:n.enabled,n.enabled&&(n.space=e.is.string(t.filterSpace)?t.filterSpace:n.space,n.min=e.is.number(t.filterMin)?t.filterMin:n.min,n.connectors=e.is.boolean(t.filterConnectors)?t.filterConnectors:n.connectors,n.ignoreCase=e.is.boolean(t.filterIgnoreCase)?t.filterIgnoreCase:n.ignoreCase,n.exactMatch=e.is.boolean(t.filterExactMatch)?t.filterExactMatch:n.exactMatch,n.focus=e.is.boolean(t.filterFocus)?t.filterFocus:n.focus,n.delay=e.is.number(t.filterDelay)?t.filterDelay:n.delay,n.placeholder=e.is.string(t.filterPlaceholder)?t.filterPlaceholder:n.placeholder,n.dropdownTitle=e.is.string(t.filterDropdownTitle)?t.filterDropdownTitle:n.dropdownTitle,n.container=e.is.string(t.filterContainer)?t.filterContainer:n.container,n.filters=e.is.array(t.filterFilters)?n.ensure(t.filterFilters):n.ensure(n.filters),n.ft.$el.hasClass("footable-filtering-left")&&(n.position="left"),n.ft.$el.hasClass("footable-filtering-center")&&(n.position="center"),n.ft.$el.hasClass("footable-filtering-right")&&(n.position="right"),n.position=e.is.string(t.filterPosition)?t.filterPosition:n.position)},function(){n.enabled=!1})},init:function(){var t=this;return t.ft.raise("init.ft.filtering").then(function(){t.$create()},function(){t.enabled=!1})},destroy:function(){var t=this;return t.ft.raise("destroy.ft.filtering").then(function(){t.ft.$el.removeClass("footable-filtering").find("thead > tr.footable-filtering").remove()})},$create:function(){var n,i=t("<div/>",{class:"form-group footable-filtering-search"}).append(t("<label/>",{class:"sr-only",text:"Search"})),a=t("<div/>",{class:"input-group"}).appendTo(i),s=t("<div/>",{class:"input-group-btn"}),o=t("<button/>",{type:"button",class:"btn btn-default dropdown-toggle"}).on("click",{self:this},this._onDropdownToggleClicked).append(t("<span/>",{class:"caret"}));switch(this.position){case"left":n="footable-filtering-left";break;case"center":n="footable-filtering-center";break;default:n="footable-filtering-right"}this.ft.$el.addClass("footable-filtering").addClass(n),this.$container=null===this.container?t():t(this.container).first(),this.$container.length?this.$container.addClass("footable-filtering-external").addClass(n):(this.$row=t("<tr/>",{class:"footable-filtering"}).prependTo(this.ft.$el.children("thead")),this.$cell=t("<th/>").attr("colspan",this.ft.columns.visibleColspan).appendTo(this.$row),this.$container=this.$cell),this.$form=t("<form/>",{class:"form-inline"}).append(i).appendTo(this.$container),this.$input=t("<input/>",{type:"text",class:"form-control",placeholder:this.placeholder}),this.$button=t("<button/>",{type:"button",class:"btn btn-primary"}).on("click",{self:this},this._onSearchButtonClicked).append(t("<span/>",{class:"fooicon fooicon-search"})),this.$dropdown=t("<ul/>",{class:"dropdown-menu dropdown-menu-right"}),e.is.emptyString(this.dropdownTitle)||this.$dropdown.append(t("<li/>",{class:"dropdown-header",text:this.dropdownTitle})),this.$dropdown.append(e.arr.map(this.ft.columns.array,function(e){return e.filterable?t("<li/>").append(t("<a/>",{class:"checkbox"}).append(t("<label/>",{html:e.title}).prepend(t("<input/>",{type:"checkbox",checked:!0}).data("__FooTableColumn__",e)))):null})),this.delay>0&&(this.$input.on("keypress keyup paste",{self:this},this._onSearchInputChanged),this.$dropdown.on("click",'input[type="checkbox"]',{self:this},this._onSearchColumnClicked)),s.append(this.$button,o,this.$dropdown),a.append(this.$input,s)},predraw:function(){if(!e.is.emptyArray(this.filters)){var n=this;n.ft.rows.array=t.grep(n.ft.rows.array,function(t){return t.filtered(n.filters)})}},draw:function(){e.is.jq(this.$cell)&&this.$cell.attr("colspan",this.ft.columns.visibleColspan);var t=this.find("search");if(t instanceof e.Filter){var n=t.query.val();this.exactMatch&&this._exactRegExp.test(n)&&(n=n.replace(this._exactRegExp,"$1")),this.$input.val(n)}else this.$input.val(null);this.setButton(!e.arr.any(this.filters,function(t){return!t.hidden}))},addFilter:function(t,n,i,a,s,o,r){var l=this.createFilter(t,n,i,a,s,o,r);l instanceof e.Filter&&(this.removeFilter(l.name),this.filters.push(l))},removeFilter:function(t){e.arr.remove(this.filters,function(e){return e.name==t})},filter:function(t){var e=this;return e.filters=e.ensure(e.filters),e.ft.raise("before.ft.filtering",[e.filters]).then(function(){if(e.filters=e.ensure(e.filters),t)var n=e.$input.prop("selectionStart"),i=e.$input.prop("selectionEnd");return e.ft.draw().then(function(){t&&e.$input.focus().prop({selectionStart:n,selectionEnd:i}),e.ft.raise("after.ft.filtering",[e.filters])})})},clear:function(){return this.filters=e.arr.get(this.filters,function(t){return t.hidden}),this.filter(this.focus)},setButton:function(t){t?this.$button.children(".fooicon").removeClass("fooicon-remove").addClass("fooicon-search"):this.$button.children(".fooicon").removeClass("fooicon-search").addClass("fooicon-remove")},find:function(t){return e.arr.first(this.filters,function(e){return e.name==t})},columns:function(){return e.is.jq(this.$dropdown)?this.$dropdown.find("input:checked").map(function(){return t(this).data("__FooTableColumn__")}).get():this.ft.columns.get(function(t){return t.filterable})},ensure:function(t){var n=this,i=[],a=n.columns();return e.is.emptyArray(t)||e.arr.each(t,function(t){(t=n._ensure(t,a))instanceof e.Filter&&i.push(t)}),i},createFilter:function(t,n,i,a,s,o,r){return e.is.string(t)&&(t={name:t,query:n,columns:i,ignoreCase:a,connectors:s,space:o,hidden:r}),this._ensure(t,this.columns())},_ensure:function(t,n){return(e.is.hash(t)||t instanceof e.Filter)&&!e.is.emptyString(t.name)&&(!e.is.emptyString(t.query)||t.query instanceof e.Query)?(t.columns=e.is.emptyArray(t.columns)?n:this.ft.columns.ensure(t.columns),t.ignoreCase=e.is.boolean(t.ignoreCase)?t.ignoreCase:this.ignoreCase,t.connectors=e.is.boolean(t.connectors)?t.connectors:this.connectors,t.hidden=!!e.is.boolean(t.hidden)&&t.hidden,t.space=!e.is.string(t.space)||"AND"!==t.space&&"OR"!==t.space?this.space:t.space,t.query=e.is.string(t.query)?new e.Query(t.query,t.space,t.connectors,t.ignoreCase):t.query,t instanceof e.Filter?t:new e.Filter(t.name,t.query,t.columns,t.space,t.connectors,t.ignoreCase,t.hidden)):null},_onSearchInputChanged:function(t){var n=t.data.self,i="keypress"==t.type&&!e.is.emptyString(String.fromCharCode(t.charCode)),a="keyup"==t.type&&(8==t.which||46==t.which),s="paste"==t.type;(i||a||s)&&(13==t.which&&t.preventDefault(),null!=n._filterTimeout&&clearTimeout(n._filterTimeout),n._filterTimeout=setTimeout(function(){n._filterTimeout=null;var t=n.$input.val();t.length>=n.min?(n.exactMatch&&!n._exactRegExp.test(t)&&(t='"'+t+'"'),n.addFilter("search",t),n.filter(n.focus)):e.is.emptyString(t)&&n.clear()},n.delay))},_onSearchButtonClicked:function(t){t.preventDefault();var e=t.data.self;if(null!=e._filterTimeout&&clearTimeout(e._filterTimeout),e.$button.children(".fooicon").hasClass("fooicon-remove"))e.clear();else{var n=e.$input.val();n.length>=e.min&&(e.exactMatch&&!e._exactRegExp.test(n)&&(n='"'+n+'"'),e.addFilter("search",n),e.filter(e.focus))}},_onSearchColumnClicked:function(t){var e=t.data.self;null!=e._filterTimeout&&clearTimeout(e._filterTimeout),e._filterTimeout=setTimeout(function(){e._filterTimeout=null;var t=e.$button.children(".fooicon");t.hasClass("fooicon-remove")&&(t.removeClass("fooicon-remove").addClass("fooicon-search"),e.addFilter("search",e.$input.val()),e.filter())},e.delay)},_onDropdownToggleClicked:function(e){e.preventDefault(),e.stopPropagation();var n=e.data.self;n.$dropdown.parent().toggleClass("open"),n.$dropdown.parent().hasClass("open")?t(document).on("click.footable",{self:n},n._onDocumentClicked):t(document).off("click.footable",n._onDocumentClicked)},_onDocumentClicked:function(e){if(0==t(e.target).closest(".dropdown-menu").length){e.preventDefault();var n=e.data.self;n.$dropdown.parent().removeClass("open"),t(document).off("click.footable",n._onDocumentClicked)}}}),e.components.register("filtering",e.Filtering,500)}(jQuery,FooTable),function(t){t.Query=t.Class.extend({construct:function(e,n,i,a){this._original=null,this._value=null,this.space=!t.is.string(n)||"OR"!=n&&"AND"!=n?"AND":n,this.connectors=!t.is.boolean(i)||i,this.ignoreCase=!t.is.boolean(a)||a,this.left=null,this.right=null,this.parts=[],this.operator=null,this.val(e)},val:function(e){if(t.is.emptyString(e))return this._value;if(t.is.emptyString(this._original))this._original=e;else if(this._original==e)return;this._value=e,this._parse()},match:function(e){return t.is.emptyString(this.operator)||"OR"===this.operator?this._left(e,!1)||this._match(e,!1)||this._right(e,!1):"AND"===this.operator?this._left(e,!0)&&this._match(e,!0)&&this._right(e,!0):void 0},_match:function(e,n){var i=this,a=!1,s=t.is.emptyString(e);return t.is.emptyArray(i.parts)&&i.left instanceof t.Query?n:t.is.emptyArray(i.parts)?a:("OR"===i.space?t.arr.each(i.parts,function(n){if(n.empty&&s){if(a=!0,n.negate)return a=!1}else{var o=(n.exact?t.str.containsExact:t.str.contains)(e,n.query,i.ignoreCase);if(o&&!n.negate&&(a=!0),o&&n.negate)return a=!1}}):(a=!0,t.arr.each(i.parts,function(n){if(n.empty)return(!s&&!n.negate||s&&n.negate)&&(a=!1),a;var o=(n.exact?t.str.containsExact:t.str.contains)(e,n.query,i.ignoreCase);return(!o&&!n.negate||o&&n.negate)&&(a=!1),a})),a)},_left:function(e,n){return this.left instanceof t.Query?this.left.match(e):n},_right:function(e,n){return this.right instanceof t.Query?this.right.match(e):n},_parse:function(){if(!t.is.emptyString(this._value))if(/\sOR\s/.test(this._value)){this.operator="OR";var e=this._value.split(/(?:\sOR\s)(.*)?/);this.left=new t.Query(e[0],this.space,this.connectors,this.ignoreCase),this.right=new t.Query(e[1],this.space,this.connectors,this.ignoreCase)}else if(/\sAND\s/.test(this._value)){this.operator="AND";var n=this._value.split(/(?:\sAND\s)(.*)?/);this.left=new t.Query(n[0],this.space,this.connectors,this.ignoreCase),this.right=new t.Query(n[1],this.space,this.connectors,this.ignoreCase)}else{var i=this;this.parts=t.arr.map(this._value.match(/(?:[^\s"]+|"[^"]*")+/g),function(t){return i._part(t)})}},_part:function(e){var n={query:e,negate:!1,phrase:!1,exact:!1,empty:!1};return t.str.startsWith(n.query,"-")&&(n.query=t.str.from(n.query,"-"),n.negate=!0),/^"(.*?)"$/.test(n.query)?(n.query=n.query.replace(/^"(.*?)"$/,"$1"),n.phrase=!0,n.exact=!0):this.connectors&&/(?:\w)+?([-_\+\.])(?:\w)+?/.test(n.query)&&(n.query=n.query.replace(/(?:\w)+?([-_\+\.])(?:\w)+?/g,function(t,e){return t.replace(e," ")}),n.phrase=!0),n.empty=n.phrase&&t.is.emptyString(n.query),n}})}(FooTable),function(t){t.Cell.prototype.filterValue=null,t.Cell.prototype.__filtering_define__=function(t){this.filterValue=this.column.filterValue.call(this.column,t)},t.Cell.prototype.__filtering_val__=function(e){t.is.defined(e)&&(this.filterValue=this.column.filterValue.call(this.column,e))},t.Cell.extend("define",function(t){this._super(t),this.__filtering_define__(t)}),t.Cell.extend("val",function(t,e,n){var i=this._super(t,e,n);return this.__filtering_val__(t),i})}(FooTable),function(t,e){e.Column.prototype.filterable=!0,e.Column.prototype.filterValue=function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("filterValue");return e.is.defined(i)?""+i:t(n).text()}if(e.is.hash(n)&&e.is.hash(n.options)){if(e.is.string(n.options.filterValue))return n.options.filterValue;e.is.defined(n.value)&&(n=n.value)}return e.is.defined(n)&&null!=n?n+"":""},e.Column.prototype.__filtering_define__=function(t){this.filterable=e.is.boolean(t.filterable)?t.filterable:this.filterable,this.filterValue=e.checkFnValue(this,t.filterValue,this.filterValue)},e.Column.extend("define",function(t){this._super(t),this.__filtering_define__(t)})}(jQuery,FooTable),FooTable.Defaults.prototype.filtering={enabled:!1,filters:[],delay:1200,min:1,space:"AND",placeholder:"Search",dropdownTitle:null,position:"right",connectors:!0,ignoreCase:!0,exactMatch:!1,focus:!0,container:null},function(t){t.Row.prototype.filtered=function(e){var n=!0,i=this;return t.arr.each(e,function(t){if(0==(n=t.matchRow(i)))return!1}),n}}(FooTable),function(t,e){e.Sorter=e.Class.extend({construct:function(t,e){this.column=t,this.direction=e}})}(jQuery,FooTable),function(t,e){e.Sorting=e.Component.extend({construct:function(t){this._super(t,t.o.sorting.enabled),this.o=t.o.sorting,this.column=null,this.allowed=!0,this.initial=null},preinit:function(t){var n=this;this.ft.raise("preinit.ft.sorting",[t]).then(function(){n.ft.$el.hasClass("footable-sorting")&&(n.enabled=!0),n.enabled=e.is.boolean(t.sorting)?t.sorting:n.enabled,n.enabled&&(n.column=e.arr.first(n.ft.columns.array,function(t){return t.sorted}))},function(){n.enabled=!1})},init:function(){var n=this;this.ft.raise("init.ft.sorting").then(function(){if(!n.initial){var i=!!n.column;n.initial={isset:i,rows:n.ft.rows.all.slice(0),column:i?n.column.name:null,direction:i?n.column.direction:null}}e.arr.each(n.ft.columns.array,function(e){e.sortable&&e.$el.addClass("footable-sortable").append(t("<span/>",{class:"fooicon fooicon-sort"}))}),n.ft.$el.on("click.footable",".footable-sortable",{self:n},n._onSortClicked)},function(){n.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.paging").then(function(){t.ft.$el.off("click.footable",".footable-sortable",t._onSortClicked),t.ft.$el.children("thead").children("tr.footable-header").children(".footable-sortable").removeClass("footable-sortable footable-asc footable-desc").find("span.fooicon").remove()})},predraw:function(){if(this.column){var t=this.column;this.ft.rows.array.sort(function(e,n){return"DESC"==t.direction?t.sorter(n.cells[t.index].sortValue,e.cells[t.index].sortValue):t.sorter(e.cells[t.index].sortValue,n.cells[t.index].sortValue)})}},draw:function(){if(this.column){var t=this.ft.$el.find("thead > tr > .footable-sortable"),e=this.column.$el;t.removeClass("footable-asc footable-desc").children(".fooicon").removeClass("fooicon-sort fooicon-sort-asc fooicon-sort-desc"),t.not(e).children(".fooicon").addClass("fooicon-sort"),e.addClass("DESC"==this.column.direction?"footable-desc":"footable-asc").children(".fooicon").addClass("DESC"==this.column.direction?"fooicon-sort-desc":"fooicon-sort-asc")}},sort:function(t,e){return this._sort(t,e)},toggleAllowed:function(t){t=e.is.boolean(t)?t:!this.allowed,this.allowed=t,this.ft.$el.toggleClass("footable-sorting-disabled",!this.allowed)},hasChanged:function(){return!(!this.initial||!this.column||this.column.name===this.initial.column&&(this.column.direction===this.initial.direction||null===this.initial.direction&&"ASC"===this.column.direction))},reset:function(){this.initial&&(this.initial.isset?this.sort(this.initial.column,this.initial.direction):(this.column&&(this.column.$el.removeClass("footable-asc footable-desc"),this.column=null),this.ft.rows.all=this.initial.rows,this.ft.draw()))},_sort:function(n,i){if(!this.allowed)return t.Deferred().reject("sorting disabled");var a=this,s=new e.Sorter(a.ft.columns.get(n),e.Sorting.dir(i));return a.ft.raise("before.ft.sorting",[s]).then(function(){return e.arr.each(a.ft.columns.array,function(t){t!=a.column&&(t.direction=null)}),a.column=a.ft.columns.get(s.column),a.column&&(a.column.direction=e.Sorting.dir(s.direction)),a.ft.draw().then(function(){a.ft.raise("after.ft.sorting",[s])})})},_onSortClicked:function(e){var n=e.data.self,i=t(this).closest("th,td"),a=i.is(".footable-asc, .footable-desc")?i.hasClass("footable-desc")?"ASC":"DESC":"ASC";n._sort(i.index(),a)}}),e.Sorting.dir=function(t){return!e.is.string(t)||"ASC"!=t&&"DESC"!=t?"ASC":t},e.components.register("sorting",e.Sorting,600)}(jQuery,FooTable),function(t){t.Cell.prototype.sortValue=null,t.Cell.prototype.__sorting_define__=function(t){this.sortValue=this.column.sortValue.call(this.column,t)},t.Cell.prototype.__sorting_val__=function(e){t.is.defined(e)&&(this.sortValue=this.column.sortValue.call(this.column,e))},t.Cell.extend("define",function(t){this._super(t),this.__sorting_define__(t)}),t.Cell.extend("val",function(t,e,n){var i=this._super(t,e,n);return this.__sorting_val__(t),i})}(FooTable),function(t,e){e.Column.prototype.direction=null,e.Column.prototype.sortable=!0,e.Column.prototype.sorted=!1,e.Column.prototype.sorter=function(t,e){return"string"==typeof t&&(t=t.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),t===e?0:t<e?-1:1},e.Column.prototype.sortValue=function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("sortValue");return e.is.defined(i)?i:this.parser(n)}if(e.is.hash(n)&&e.is.hash(n.options)){if(e.is.string(n.options.sortValue))return n.options.sortValue;e.is.defined(n.value)&&(n=n.value)}return e.is.defined(n)&&null!=n?n:null},e.Column.prototype.__sorting_define__=function(t){this.sorter=e.checkFnValue(this,t.sorter,this.sorter),this.direction=e.is.type(t.direction,"string")?e.Sorting.dir(t.direction):null,this.sortable=!e.is.boolean(t.sortable)||t.sortable,this.sorted=!!e.is.boolean(t.sorted)&&t.sorted,this.sortValue=e.checkFnValue(this,t.sortValue,this.sortValue)},e.Column.extend("define",function(t){this._super(t),this.__sorting_define__(t)})}(jQuery,FooTable),FooTable.Defaults.prototype.sorting={enabled:!1},function(t,e){e.HTMLColumn.extend("__sorting_define__",function(n){this._super(n),this.sortUse=e.is.string(n.sortUse)&&-1!==t.inArray(n.sortUse,["html","text"])?n.sortUse:"html"}),e.HTMLColumn.prototype.sortValue=function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("sortValue");return e.is.defined(i)?i:this.parser(n)}if(e.is.hash(n)&&e.is.hash(n.options)){if(e.is.string(n.options.sortValue))return n.options.sortValue;e.is.defined(n.value)&&(n=n.value)}return e.is.defined(n)&&null!=n?n:null}}(jQuery,FooTable),function(t,e){e.NumberColumn.prototype.sortValue=function(n){if(e.is.element(n)||e.is.jq(n)){var i=t(n).data("sortValue");return e.is.number(i)?i:this.parser(n)}if(e.is.hash(n)&&e.is.hash(n.options)){if(e.is.string(n.options.sortValue))return this.parser(n);if(e.is.number(n.options.sortValue))return n.options.sortValue;if(e.is.number(n.value))return n.value}return e.is.string(n)?this.parser(n):e.is.number(n)?n:null}}(jQuery,FooTable),function(t){t.Table.prototype.sort=function(e,n){return this.use(t.Sorting).sort(e,n)}}(FooTable),function(t,e){e.Pager=e.Class.extend({construct:function(t,e,n,i,a){this.total=t,this.current=e,this.size=n,this.page=i,this.forward=a}})}(jQuery,FooTable),function(t,e){e.Paging=e.Component.extend({construct:function(t){this._super(t,t.o.paging.enabled),this.strings=t.o.paging.strings,this.current=t.o.paging.current,this.size=t.o.paging.size,this.limit=t.o.paging.limit,this.position=t.o.paging.position,this.countFormat=t.o.paging.countFormat,this.container=t.o.paging.container,this.total=-1,this.totalRows=0,this.previous=-1,this.formattedCount=null,this.$container=null,this.$wrapper=null,this.$row=null,this.$cell=null,this.$pagination=null,this.$count=null,this.detached=!0,this._createdLinks=0},preinit:function(t){var n=this;this.ft.raise("preinit.ft.paging",[t]).then(function(){n.ft.$el.hasClass("footable-paging")&&(n.enabled=!0),n.enabled=e.is.boolean(t.paging)?t.paging:n.enabled,n.enabled&&(n.size=e.is.number(t.pagingSize)?t.pagingSize:n.size,n.current=e.is.number(t.pagingCurrent)?t.pagingCurrent:n.current,n.limit=e.is.number(t.pagingLimit)?t.pagingLimit:n.limit,n.ft.$el.hasClass("footable-paging-left")&&(n.position="left"),n.ft.$el.hasClass("footable-paging-center")&&(n.position="center"),n.ft.$el.hasClass("footable-paging-right")&&(n.position="right"),n.position=e.is.string(t.pagingPosition)?t.pagingPosition:n.position,n.countFormat=e.is.string(t.pagingCountFormat)?t.pagingCountFormat:n.countFormat,n.container=e.is.string(t.pagingContainer)?t.pagingContainer:n.container,n.total=Math.ceil(n.ft.rows.all.length/n.size))},function(){n.enabled=!1})},init:function(){var t=this;this.ft.raise("init.ft.paging").then(function(){t.$create()},function(){t.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.paging").then(function(){t.ft.$el.removeClass("footable-paging").find("tfoot > tr.footable-paging").remove(),t.detached=!0,t._createdLinks=0})},predraw:function(){this.total=Math.ceil(this.ft.rows.array.length/this.size),this.current=this.current>this.total?this.total:this.current<1?1:this.current,this.totalRows=this.ft.rows.array.length,this.totalRows>this.size&&(this.ft.rows.array=this.ft.rows.array.splice((this.current-1)*this.size,this.size)),this.formattedCount=this.format(this.countFormat)},draw:function(){if(this.total<=1)this.detached||(this.$row?this.$row.detach():this.$wrapper.detach(),this.detached=!0);else{if(this.detached){if(this.$row){var n=this.ft.$el.children("tfoot");0==n.length&&(n=t("<tfoot/>"),this.ft.$el.append(n)),this.$row.appendTo(n)}else this.$wrapper.appendTo(this.$container);this.detached=!1}e.is.jq(this.$cell)&&this.$cell.attr("colspan",this.ft.columns.visibleColspan),this._createLinks(),this._setVisible(this.current,this.current>this.previous),this._setNavigation(!0),this.$count.text(this.formattedCount)}},$create:function(){this._createdLinks=0;var n="footable-paging-center";switch(this.position){case"left":n="footable-paging-left";break;case"right":n="footable-paging-right"}if(this.ft.$el.addClass("footable-paging").addClass(n),this.$container=null===this.container?null:t(this.container).first(),e.is.jq(this.$container))this.$container.addClass("footable-paging-external").addClass(n);else{var i=this.ft.$el.children("tfoot");0==i.length&&(i=t("<tfoot/>"),this.ft.$el.append(i)),this.$row=t("<tr/>",{class:"footable-paging"}).prependTo(i),this.$container=this.$cell=t("<td/>").attr("colspan",this.ft.columns.visibleColspan).appendTo(this.$row)}this.$wrapper=t("<div/>",{class:"footable-pagination-wrapper"}).appendTo(this.$container),this.$pagination=t("<ul/>",{class:"pagination"}).on("click.footable","a.footable-page-link",{self:this},this._onPageClicked),this.$count=t("<span/>",{class:"label label-default"}),this.$wrapper.append(this.$pagination,t("<div/>",{class:"divider"}),this.$count),this.detached=!1},format:function(t){var e=this.size*(this.current-1)+1,n=this.size*this.current;return 0==this.ft.rows.array.length?(e=0,n=0):n=n>this.totalRows?this.totalRows:n,t.replace(/\{CP}/g,this.current).replace(/\{TP}/g,this.total).replace(/\{PF}/g,e).replace(/\{PL}/g,n).replace(/\{TR}/g,this.totalRows)},first:function(){return this._set(1)},prev:function(){return this._set(this.current-1>0?this.current-1:1)},next:function(){return this._set(this.current+1<this.total?this.current+1:this.total)},last:function(){return this._set(this.total)},goto:function(t){return this._set(t>this.total?this.total:t<1?1:t)},prevPages:function(){var t=this.$pagination.children("li.footable-page.visible:first").data("page")-1;this._setVisible(t,!0),this._setNavigation(!1)},nextPages:function(){var t=this.$pagination.children("li.footable-page.visible:last").data("page")+1;this._setVisible(t,!1),this._setNavigation(!1)},pageSize:function(t){if(t=parseInt(t),isNaN(t))return this.size;this.size=t,this.total=Math.ceil(this.ft.rows.all.length/this.size),e.is.jq(this.$wrapper)&&(this.$container.is("td")?this.$row.remove():this.$wrapper.remove()),this.$create(),this.ft.draw()},_set:function(n){var i=this,a=new e.Pager(i.total,i.current,i.size,n,n>i.current);return i.ft.raise("before.ft.paging",[a]).then(function(){return a.page=a.page>a.total?a.total:a.page,a.page=a.page<1?1:a.page,i.current==n?t.when():(i.previous=i.current,i.current=a.page,i.ft.draw().then(function(){i.ft.raise("after.ft.paging",[a])}))})},_createLinks:function(){if(this._createdLinks!==this.total){var e=this.total>1,n=function(e,n,i){return t("<li/>",{class:i}).attr("data-page",e).append(t("<a/>",{class:"footable-page-link",href:"#"}).data("page",e).html(n))};this.$pagination.empty(),e&&(this.$pagination.append(n("first",this.strings.first,"footable-page-nav")),this.$pagination.append(n("prev",this.strings.prev,"footable-page-nav")),this.limit>0&&this.limit<this.total&&this.$pagination.append(n("prev-limit",this.strings.prevPages,"footable-page-nav")));for(var i,a=0;a<this.total;a++)i=n(a+1,a+1,"footable-page"),this.$pagination.append(i);e&&(this.limit>0&&this.limit<this.total&&this.$pagination.append(n("next-limit",this.strings.nextPages,"footable-page-nav")),this.$pagination.append(n("next",this.strings.next,"footable-page-nav")),this.$pagination.append(n("last",this.strings.last,"footable-page-nav"))),this._createdLinks=this.total}},_setNavigation:function(t){1==this.current?this.$pagination.children('li[data-page="first"],li[data-page="prev"]').addClass("disabled"):this.$pagination.children('li[data-page="first"],li[data-page="prev"]').removeClass("disabled"),this.current==this.total?this.$pagination.children('li[data-page="next"],li[data-page="last"]').addClass("disabled"):this.$pagination.children('li[data-page="next"],li[data-page="last"]').removeClass("disabled"),1==(this.$pagination.children("li.footable-page.visible:first").data("page")||1)?this.$pagination.children('li[data-page="prev-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="prev-limit"]').removeClass("disabled"),(this.$pagination.children("li.footable-page.visible:last").data("page")||this.limit)==this.total?this.$pagination.children('li[data-page="next-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="next-limit"]').removeClass("disabled"),this.limit>0&&this.total<this.limit?this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').css("display","none"):this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').css("display",""),t&&this.$pagination.children("li.footable-page").removeClass("active").filter('li[data-page="'+this.current+'"]').addClass("active")},_setVisible:function(t,e){if(this.limit>0&&this.total>this.limit){if(!this.$pagination.children('li.footable-page[data-page="'+t+'"]').hasClass("visible")){var n=0,i=0;1==e?n=(i=t>this.total?this.total:t)-this.limit:i=(n=t<1?0:t-1)+this.limit,n<0&&(n=0,i=this.limit>this.total?this.total:this.limit),i>this.total&&(i=this.total,n=this.total-this.limit<0?0:this.total-this.limit),this.$pagination.children("li.footable-page").removeClass("visible").slice(n,i).addClass("visible")}}else this.$pagination.children("li.footable-page").removeClass("visible").slice(0,this.total).addClass("visible")},_onPageClicked:function(e){if(e.preventDefault(),!t(e.target).closest("li").is(".active,.disabled")){var n=e.data.self,i=t(this).data("page");switch(i){case"first":return void n.first();case"prev":return void n.prev();case"next":return void n.next();case"last":return void n.last();case"prev-limit":return void n.prevPages();case"next-limit":return void n.nextPages();default:return void n._set(i)}}}}),e.components.register("paging",e.Paging,400)}(jQuery,FooTable),FooTable.Defaults.prototype.paging={enabled:!1,countFormat:"{CP} of {TP}",current:1,limit:5,position:"center",size:10,container:null,strings:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevPages:"...",nextPages:"..."}},function(t){t.Table.prototype.gotoPage=function(e){return this.use(t.Paging).goto(e)},t.Table.prototype.nextPage=function(){return this.use(t.Paging).next()},t.Table.prototype.prevPage=function(){return this.use(t.Paging).prev()},t.Table.prototype.firstPage=function(){return this.use(t.Paging).first()},t.Table.prototype.lastPage=function(){return this.use(t.Paging).last()},t.Table.prototype.nextPages=function(){return this.use(t.Paging).nextPages()},t.Table.prototype.prevPages=function(){return this.use(t.Paging).prevPages()},t.Table.prototype.pageSize=function(e){return this.use(t.Paging).pageSize(e)}}(FooTable),function(t,e){e.Editing=e.Component.extend({construct:function(n){this._super(n,n.o.editing.enabled),this.pageToNew=n.o.editing.pageToNew,this.alwaysShow=n.o.editing.alwaysShow,this.column=t.extend(!0,{},n.o.editing.column,{visible:this.alwaysShow}),this.position=n.o.editing.position,this.showText=n.o.editing.showText,this.hideText=n.o.editing.hideText,this.addText=n.o.editing.addText,this.editText=n.o.editing.editText,this.deleteText=n.o.editing.deleteText,this.viewText=n.o.editing.viewText,this.allowAdd=n.o.editing.allowAdd,this.allowEdit=n.o.editing.allowEdit,this.allowDelete=n.o.editing.allowDelete,this.allowView=n.o.editing.allowView,this._$buttons=null,this.callbacks={addRow:e.checkFnValue(this,n.o.editing.addRow),editRow:e.checkFnValue(this,n.o.editing.editRow),deleteRow:e.checkFnValue(this,n.o.editing.deleteRow),viewRow:e.checkFnValue(this,n.o.editing.viewRow)}},preinit:function(n){var i=this;this.ft.raise("preinit.ft.editing",[n]).then(function(){if(i.ft.$el.hasClass("footable-editing")&&(i.enabled=!0),i.enabled=e.is.boolean(n.editing)?n.editing:i.enabled,i.enabled){if(i.pageToNew=e.is.boolean(n.editingPageToNew)?n.editingPageToNew:i.pageToNew,i.alwaysShow=e.is.boolean(n.editingAlwaysShow)?n.editingAlwaysShow:i.alwaysShow,i.position=e.is.string(n.editingPosition)?n.editingPosition:i.position,i.showText=e.is.string(n.editingShowText)?n.editingShowText:i.showText,i.hideText=e.is.string(n.editingHideText)?n.editingHideText:i.hideText,i.addText=e.is.string(n.editingAddText)?n.editingAddText:i.addText,i.editText=e.is.string(n.editingEditText)?n.editingEditText:i.editText,i.deleteText=e.is.string(n.editingDeleteText)?n.editingDeleteText:i.deleteText,i.viewText=e.is.string(n.editingViewText)?n.editingViewText:i.viewText,i.allowAdd=e.is.boolean(n.editingAllowAdd)?n.editingAllowAdd:i.allowAdd,i.allowEdit=e.is.boolean(n.editingAllowEdit)?n.editingAllowEdit:i.allowEdit,i.allowDelete=e.is.boolean(n.editingAllowDelete)?n.editingAllowDelete:i.allowDelete,i.allowView=e.is.boolean(n.editingAllowView)?n.editingAllowView:i.allowView,i.column=new e.EditingColumn(i.ft,i,t.extend(!0,{},i.column,n.editingColumn,{visible:i.alwaysShow})),i.ft.$el.hasClass("footable-editing-left")&&(i.position="left"),i.ft.$el.hasClass("footable-editing-right")&&(i.position="right"),"right"===i.position)i.column.index=i.ft.columns.array.length;else{i.column.index=0;for(var a=0,s=i.ft.columns.array.length;a<s;a++)i.ft.columns.array[a].index+=1}i.ft.columns.array.push(i.column),i.ft.columns.array.sort(function(t,e){return t.index-e.index}),i.callbacks.addRow=e.checkFnValue(i,n.editingAddRow,i.callbacks.addRow),i.callbacks.editRow=e.checkFnValue(i,n.editingEditRow,i.callbacks.editRow),i.callbacks.deleteRow=e.checkFnValue(i,n.editingDeleteRow,i.callbacks.deleteRow),i.callbacks.viewRow=e.checkFnValue(i,n.editingViewRow,i.callbacks.viewRow)}},function(){i.enabled=!1})},init:function(){var t=this;this.ft.raise("init.ft.editing").then(function(){t.$create()},function(){t.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.editing").then(function(){t.ft.$el.removeClass("footable-editing footable-editing-always-show footable-editing-no-add footable-editing-no-edit footable-editing-no-delete footable-editing-no-view").off("click.ft.editing").find("tfoot > tr.footable-editing").remove()})},$create:function(){var e="right"===this.position?"footable-editing-right":"footable-editing-left";this.ft.$el.addClass("footable-editing").addClass(e).on("click.ft.editing",".footable-show",{self:this},this._onShowClick).on("click.ft.editing",".footable-hide",{self:this},this._onHideClick).on("click.ft.editing",".footable-edit",{self:this},this._onEditClick).on("click.ft.editing",".footable-delete",{self:this},this._onDeleteClick).on("click.ft.editing",".footable-view",{self:this},this._onViewClick).on("click.ft.editing",".footable-add",{self:this},this._onAddClick),this.$cell=t("<td/>").attr("colspan",this.ft.columns.visibleColspan).append(this.$buttonShow()),this.allowAdd&&this.$cell.append(this.$buttonAdd()),this.$cell.append(this.$buttonHide()),this.alwaysShow&&this.ft.$el.addClass("footable-editing-always-show"),this.allowAdd||this.ft.$el.addClass("footable-editing-no-add"),this.allowEdit||this.ft.$el.addClass("footable-editing-no-edit"),this.allowDelete||this.ft.$el.addClass("footable-editing-no-delete"),this.allowView||this.ft.$el.addClass("footable-editing-no-view");var n=this.ft.$el.children("tfoot");0==n.length&&(n=t("<tfoot/>"),this.ft.$el.append(n)),this.$row=t("<tr/>",{class:"footable-editing"}).append(this.$cell).appendTo(n)},$buttonShow:function(){return'<button type="button" class="btn btn-primary footable-show">'+this.showText+"</button>"},$buttonHide:function(){return'<button type="button" class="btn btn-default footable-hide">'+this.hideText+"</button>"},$buttonAdd:function(){return'<button type="button" class="btn btn-primary footable-add">'+this.addText+"</button> "},$buttonEdit:function(){return'<button type="button" class="btn btn-default footable-edit">'+this.editText+"</button> "},$buttonDelete:function(){return'<button type="button" class="btn btn-default footable-delete">'+this.deleteText+"</button>"},$buttonView:function(){return'<button type="button" class="btn btn-default footable-view">'+this.viewText+"</button> "},$rowButtons:function(){return e.is.jq(this._$buttons)?this._$buttons.clone():(this._$buttons=t('<div class="btn-group btn-group-xs" role="group"></div>'),this.allowView&&this._$buttons.append(this.$buttonView()),this.allowEdit&&this._$buttons.append(this.$buttonEdit()),this.allowDelete&&this._$buttons.append(this.$buttonDelete()),this._$buttons)},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan)},_onEditClick:function(n){n.preventDefault();var i=n.data.self,a=t(this).closest("tr").data("__FooTableRow__");a instanceof e.Row&&i.ft.raise("edit.ft.editing",[a]).then(function(){i.callbacks.editRow.call(i.ft,a)})},_onDeleteClick:function(n){n.preventDefault();var i=n.data.self,a=t(this).closest("tr").data("__FooTableRow__");a instanceof e.Row&&i.ft.raise("delete.ft.editing",[a]).then(function(){i.callbacks.deleteRow.call(i.ft,a)})},_onViewClick:function(n){n.preventDefault();var i=n.data.self,a=t(this).closest("tr").data("__FooTableRow__");a instanceof e.Row&&i.ft.raise("view.ft.editing",[a]).then(function(){i.callbacks.viewRow.call(i.ft,a)})},_onAddClick:function(t){t.preventDefault();var e=t.data.self;e.ft.raise("add.ft.editing").then(function(){e.callbacks.addRow.call(e.ft)})},_onShowClick:function(t){t.preventDefault();var e=t.data.self;e.ft.raise("show.ft.editing").then(function(){e.ft.$el.addClass("footable-editing-show"),e.column.visible=!0,e.ft.draw()})},_onHideClick:function(t){t.preventDefault();var e=t.data.self;e.ft.raise("hide.ft.editing").then(function(){e.ft.$el.removeClass("footable-editing-show"),e.column.visible=!1,e.ft.draw()})}}),e.components.register("editing",e.Editing,850)}(jQuery,FooTable),function(t,e){e.EditingColumn=e.Column.extend({construct:function(t,e,n){this._super(t,n,"editing"),this.editing=e,this.internal=!0},$create:function(){(this.$el=!this.virtual&&e.is.jq(this.$el)?this.$el:t("<th/>",{class:"footable-editing"})).html(this.title)},parser:function(n){if(e.is.string(n)&&(n=t(t.trim(n))),e.is.element(n)&&(n=t(n)),e.is.jq(n)){var i=n.prop("tagName").toLowerCase();return"td"==i||"th"==i?n.data("value")||n.contents():n}return null},createCell:function(n){var i=this.editing.$rowButtons(),a=t("<td/>").append(i);return e.is.jq(n.$el)&&(0===this.index?a.prependTo(n.$el):a.insertAfter(n.$el.children().eq(this.index-1))),new e.Cell(this.ft,n,this,a||a.html())}}),e.columns.register("editing",e.EditingColumn)}(jQuery,FooTable),jQuery,FooTable.Defaults.prototype.editing={enabled:!1,pageToNew:!0,position:"right",alwaysShow:!1,addRow:function(){},editRow:function(t){},deleteRow:function(t){},viewRow:function(t){},showText:'<span class="fooicon fooicon-pencil" aria-hidden="true"></span> Edit rows',hideText:"Cancel",addText:"New row",editText:'<span class="fooicon fooicon-pencil" aria-hidden="true"></span>',deleteText:'<span class="fooicon fooicon-trash" aria-hidden="true"></span>',viewText:'<span class="fooicon fooicon-stats" aria-hidden="true"></span>',allowAdd:!0,allowEdit:!0,allowDelete:!0,allowView:!1,column:{classes:"footable-editing",name:"editing",title:"",filterable:!1,sortable:!1}},function(t,e){e.is.defined(e.Paging)&&(e.Paging.prototype.unpaged=[],e.Paging.extend("predraw",function(){this.unpaged=this.ft.rows.array.slice(0),this._super()}))}(jQuery,FooTable),function(t,e){e.Row.prototype.add=function(n){n=!e.is.boolean(n)||n;var i=this;return t.Deferred(function(t){var e=i.ft.rows.all.push(i)-1;if(n)return i.ft.draw().then(function(){t.resolve(e)});t.resolve(e)})},e.Row.prototype.delete=function(n){n=!e.is.boolean(n)||n;var i=this;return t.Deferred(function(t){var a=i.ft.rows.all.indexOf(i);if(e.is.number(a)&&a>=0&&a<i.ft.rows.all.length&&(i.ft.rows.all.splice(a,1),n))return i.ft.draw().then(function(){t.resolve(i)});t.resolve(i)})},e.is.defined(e.Paging)&&e.Row.extend("add",function(t){t=!e.is.boolean(t)||t;var n,i=this,a=this._super(t),s=i.ft.use(e.Editing);return s&&s.pageToNew&&(n=i.ft.use(e.Paging))&&t?a.then(function(){var t=n.unpaged.indexOf(i),e=Math.ceil((t+1)/n.size);if(n.current!==e)return n.goto(e)}):a}),e.is.defined(e.Sorting)&&e.Row.extend("val",function(t,n){n=!e.is.boolean(n)||n;var i=this._super(t);if(!e.is.hash(t))return i;var a=this;return n&&a.ft.draw().then(function(){var t,n=a.ft.use(e.Editing);if(e.is.defined(e.Paging)&&n&&n.pageToNew&&(t=a.ft.use(e.Paging))){var i=t.unpaged.indexOf(a),s=Math.ceil((i+1)/t.size);if(t.current!==s)return t.goto(s)}}),i})}(jQuery,FooTable),function(t){t.Rows.prototype.add=function(e,n){var i=e;t.is.hash(e)&&(i=new FooTable.Row(this.ft,this.ft.columns.array,e)),i instanceof FooTable.Row&&i.add(n)},t.Rows.prototype.update=function(e,n,i){var a=this.ft.rows.all.length,s=e;t.is.number(e)&&e>=0&&e<a&&(s=this.ft.rows.all[e]),s instanceof FooTable.Row&&t.is.hash(n)&&s.val(n,i)},t.Rows.prototype.delete=function(e,n){var i=this.ft.rows.all.length,a=e;t.is.number(e)&&e>=0&&e<i&&(a=this.ft.rows.all[e]),a instanceof FooTable.Row&&a.delete(n)}}(FooTable),function(t,e){var n=0,i=function(t){var e,n,i=2166136261;for(e=0,n=t.length;e<n;e++)i^=t.charCodeAt(e),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return i>>>0}(location.origin+location.pathname);e.State=e.Component.extend({construct:function(t){this._super(t,t.o.state.enabled),this._key="1",this.key=this._key+(e.is.string(t.o.state.key)?t.o.state.key:this._uid()),this.filtering=!e.is.boolean(t.o.state.filtering)||t.o.state.filtering,this.paging=!e.is.boolean(t.o.state.paging)||t.o.state.paging,this.sorting=!e.is.boolean(t.o.state.sorting)||t.o.state.sorting},preinit:function(t){var n=this;this.ft.raise("preinit.ft.state",[t]).then(function(){n.enabled=e.is.boolean(t.state)?t.state:n.enabled,n.enabled&&(n.key=n._key+(e.is.string(t.stateKey)?t.stateKey:n.key),n.filtering=e.is.boolean(t.stateFiltering)?t.stateFiltering:n.filtering,n.paging=e.is.boolean(t.statePaging)?t.statePaging:n.paging,n.sorting=e.is.boolean(t.stateSorting)?t.stateSorting:n.sorting)},function(){n.enabled=!1})},get:function(t){return JSON.parse(localStorage.getItem(this.key+":"+t))},set:function(t,e){localStorage.setItem(this.key+":"+t,JSON.stringify(e))},remove:function(t){localStorage.removeItem(this.key+":"+t)},read:function(){this.ft.execute(!1,!0,"readState")},write:function(){this.ft.execute(!1,!0,"writeState")},clear:function(){this.ft.execute(!1,!0,"clearState")},_uid:function(){var t=this.ft.$el.attr("id");return i+"_"+(e.is.string(t)?t:++n)}}),e.components.register("state",e.State,700)}(jQuery,FooTable),function(t){t.Component.prototype.readState=function(){},t.Component.prototype.writeState=function(){},t.Component.prototype.clearState=function(){}}(FooTable),FooTable.Defaults.prototype.state={enabled:!1,filtering:!0,paging:!0,sorting:!0,key:null},function(t){t.Filtering&&(t.Filtering.prototype.readState=function(){if(this.ft.state.filtering){var e=this.ft.state.get("filtering");t.is.hash(e)&&!t.is.emptyArray(e.filters)&&(this.filters=this.ensure(e.filters))}},t.Filtering.prototype.writeState=function(){if(this.ft.state.filtering){var e=t.arr.map(this.filters,function(e){return{name:e.name,query:e.query instanceof t.Query?e.query.val():e.query,columns:t.arr.map(e.columns,function(t){return t.name}),hidden:e.hidden,space:e.space,connectors:e.connectors,ignoreCase:e.ignoreCase}});this.ft.state.set("filtering",{filters:e})}},t.Filtering.prototype.clearState=function(){this.ft.state.filtering&&this.ft.state.remove("filtering")})}(FooTable),function(t){t.Paging&&(t.Paging.prototype.readState=function(){if(this.ft.state.paging){var e=this.ft.state.get("paging");t.is.hash(e)&&(this.current=e.current,this.size=e.size)}},t.Paging.prototype.writeState=function(){this.ft.state.paging&&this.ft.state.set("paging",{current:this.current,size:this.size})},t.Paging.prototype.clearState=function(){this.ft.state.paging&&this.ft.state.remove("paging")})}(FooTable),function(t){t.Sorting&&(t.Sorting.prototype.readState=function(){if(this.ft.state.sorting){var e=this.ft.state.get("sorting");if(t.is.hash(e)){var n=this.ft.columns.get(e.column);n instanceof t.Column&&(this.column=n,this.column.direction=e.direction)}}},t.Sorting.prototype.writeState=function(){this.ft.state.sorting&&this.column instanceof t.Column&&this.ft.state.set("sorting",{column:this.column.name,direction:this.column.direction})},t.Sorting.prototype.clearState=function(){this.ft.state.sorting&&this.ft.state.remove("sorting")})}(FooTable),function(t){t.Table.extend("_construct",function(t){return this.state=this.use(FooTable.State),this._super(t)}),t.Table.extend("_preinit",function(){var t=this;return t._super().then(function(){t.state.enabled&&t.state.read()})}),t.Table.extend("draw",function(){var t=this;return t._super().then(function(){t.state.enabled&&t.state.write()})})}(FooTable),function(t,e){e.Export=e.Component.extend({construct:function(t){this._super(t,!0),this.snapshot=[]},predraw:function(){this.snapshot=this.ft.rows.array.slice(0)},columns:function(){var t=[];return e.arr.each(this.ft.columns.array,function(e){e.internal||t.push({type:e.type,name:e.name,title:e.title,visible:e.visible,hidden:e.hidden,classes:e.classes,style:e.style})}),t},rows:function(t){var n=(t=!!e.is.boolean(t)&&t)?this.ft.rows.all:this.snapshot,i=[];return e.arr.each(n,function(t){i.push(t.val())}),i},json:function(t){return JSON.parse(JSON.stringify({columns:this.columns(),rows:this.rows(t)}))},csv:function(t){var n,i,a="",s=this.columns();e.arr.each(s,function(t,e){i='"'+t.title.replace(/"/g,'""')+'"',a+=0===e?i:","+i}),a+="\n";var o=t?this.ft.rows.all:this.snapshot;return e.arr.each(o,function(t){e.arr.each(t.cells,function(t,e){t.column.internal||(n=t.column.stringify.call(t.column,t.value,t.ft.o,t.row.value),i='"'+n.replace(/"/g,'""')+'"',a+=0===e?i:","+i)}),a+="\n"}),a}}),e.components.register("export",e.Export,490)}(jQuery,FooTable),function(t){t.Column.prototype.__export_define__=function(e){this.stringify=t.checkFnValue(this,e.stringify,this.stringify)},t.Column.extend("define",function(t){this._super(t),this.__export_define__(t)}),t.Column.prototype.stringify=function(t,e,n){return t+""},t.is.defined(t.DateColumn)&&(t.DateColumn.prototype.stringify=function(e,n,i){return t.is.object(e)&&t.is.boolean(e._isAMomentObject)&&e.isValid()?e.format(this.formatString):""}),t.ObjectColumn.prototype.stringify=function(e,n,i){return t.is.object(e)?JSON.stringify(e):""},t.ArrayColumn.prototype.stringify=function(e,n,i){return t.is.array(e)?JSON.stringify(e):""}}(FooTable),function(t){t.Table.prototype.toJSON=function(e){return this.use(t.Export).json(e)},t.Table.prototype.toCSV=function(e){return this.use(t.Export).csv(e)}}(FooTable);var Comfirm=Comfirm||{};Comfirm.AlphaMail=Comfirm.AlphaMail||{};var Verimail=Comfirm.AlphaMail.Verimail=function(t){for(key in this.options={url:"http://jsapi.comfirm.se/verify/v1/",token:null,enforceTld:!0,denyTempEmailDomains:!1,language:"en",richTextMessages:!0,distanceFunction:null},t)t.hasOwnProperty(key)&&(this.options[key]=t[key]);this.setLanguage(this.options.language,"en"),this.Service={},this.Service.verify=function(t,e){e(Verimail.Status.CorrectSyntax,"It looks OK!")}};Verimail.Status={MxServerDownError:-7,MissingMxRecordsError:-6,DomainError:-5,BlockedError:-4,InvalidPart:-3,SyntaxError:-2,EmptyError:-1,CorrectSyntax:0,Pending:1,EmailExists:2,EmailExistsOnSocialNetworks:3,AcceptAllPolicy:4},Verimail.Language={en:{success:"Email looks OK",typo:"Did you mean <span class='suggestion'>%s</span>?",invalidTld:"Top level domain <span class='tld'>%s</span> does not exist",domainBlocked:"Domain <span class='blocked'>%s</span> is not allowed",invalidFormat:"Email is not correctly formatted",empty:"Email is empty"},sv:{success:"E-postadressen r godknd",typo:"Menade du <span class='suggestion'>%s</span>?",invalidTld:"Toppdomnen <span class='tld'>%s</span> existerar inte",domainBlocked:"Domnen <span class='domain'>%s</span> r inte tillten",invalidFormat:"Ogiltig e-postadress",empty:"E-postadressen r tom"},fr:{success:"L'adresse semble correcte",typo:"Voulez-vous dire <span class='suggestion'>%s</span>?",invalidTld:"Le domaine <span class='tld'>%s</span> n'existe pas",domainBlocked:"Le domaine <span class='domain'>%s</span> n'est pas autoris",invalidFormat:"Format d'adresse e-mail incorrect",empty:"Adresse e-mail vide"}},Verimail.MostCommonEmailDomains=(_defineProperty(_Verimail$MostCommonE={"gmail.com":null,"msn.com":null,"hotmail.com":null,"hotmail.co.uk":null,"yahoo.com":null,"yahoo.co.uk":null,"facebook.com":null,"live.com":null,"mail.com":null,"gmx.com":null,"aol.com":null,"verizon.net":null,"comcast.net":null,"googlemail.com":null,"att.net":null},"mail.com",null),_defineProperty(_Verimail$MostCommonE,"mac.com",null),_defineProperty(_Verimail$MostCommonE,"rocketmail.com",null),_defineProperty(_Verimail$MostCommonE,"ymail.com",null),_Verimail$MostCommonE),Verimail.MostCommonTlds={com:null,org:null,edu:null,gov:null,uk:null,net:null,ca:null,de:null,jp:null,fr:null,au:null,us:null,ru:null,ch:null,it:null,nl:null,se:null,dk:null,no:null,es:null,mil:null},Verimail.IANARegisteredTlds={ac:null,ad:null,ae:null,aero:null,af:null,ag:null,ai:null,al:null,am:null,an:null,ao:null,aq:null,ar:null,arpa:null,as:null,asia:null,at:null,au:null,aw:null,ax:null,az:null,ba:null,bb:null,bd:null,be:null,bf:null,bg:null,bh:null,bi:null,biz:null,bj:null,bm:null,bn:null,bo:null,br:null,bs:null,bt:null,bv:null,bw:null,by:null,bz:null,ca:null,cat:null,cc:null,cd:null,cf:null,cg:null,ch:null,ci:null,ck:null,cl:null,cm:null,cn:null,co:null,com:null,coop:null,cr:null,cu:null,cv:null,cw:null,cx:null,cy:null,cz:null,de:null,dj:null,dk:null,dm:null,do:null,dz:null,ec:null,edu:null,ee:null,eg:null,er:null,es:null,et:null,eu:null,fi:null,fj:null,fk:null,fm:null,fo:null,fr:null,ga:null,gb:null,gd:null,ge:null,gf:null,gg:null,gh:null,gi:null,gl:null,gm:null,gn:null,gov:null,gp:null,gq:null,gr:null,gs:null,gt:null,gu:null,gw:null,gy:null,hk:null,hm:null,hn:null,hr:null,ht:null,hu:null,id:null,ie:null,il:null,im:null,in:null,info:null,int:null,io:null,iq:null,ir:null,is:null,it:null,je:null,jm:null,jo:null,jobs:null,jp:null,ke:null,kg:null,kh:null,ki:null,km:null,kn:null,kp:null,kr:null,kw:null,ky:null,kz:null,la:null,lb:null,lc:null,li:null,lk:null,lr:null,ls:null,lt:null,lu:null,lv:null,ly:null,ma:null,mc:null,md:null,me:null,mg:null,mh:null,mil:null,mk:null,ml:null,mm:null,mn:null,mo:null,mobi:null,mp:null,mq:null,mr:null,ms:null,mt:null,mu:null,museum:null,mv:null,mw:null,mx:null,my:null,mz:null,na:null,name:null,nc:null,ne:null,net:null,nf:null,ng:null,ni:null,nl:null,no:null,np:null,nr:null,nu:null,nz:null,om:null,org:null,pa:null,pe:null,pf:null,pg:null,ph:null,pk:null,pl:null,pm:null,pn:null,post:null,pr:null,pro:null,ps:null,pt:null,pw:null,py:null,qa:null,re:null,ro:null,rs:null,ru:null,rw:null,sa:null,sb:null,sc:null,sd:null,se:null,sg:null,sh:null,si:null,sj:null,sk:null,sl:null,sm:null,sn:null,so:null,sr:null,st:null,su:null,sv:null,sx:null,sy:null,sz:null,tc:null,td:null,tel:null,tf:null,tg:null,th:null,tj:null,tk:null,tl:null,tm:null,tn:null,to:null,tp:null,tr:null,travel:null,tt:null,tv:null,tw:null,tz:null,ua:null,ug:null,uk:null,us:null,uy:null,uz:null,va:null,vc:null,ve:null,vg:null,vi:null,vn:null,vu:null,wf:null,ws:null,ye:null,yt:null,za:null,zm:null,zw:null},Verimail.TempEmailDomains={com:{mytrashmail:null,mailmetrash:null,trashymail:null,mailinator:null,mailexpire:null,temporaryinbox:null,rtrtr:null,sharklasers:null,guerrillamailblock:null,guerrillamail:null},net:{guerrillamail:null,tempemail:null},org:{guerrillamail:null,spamfree24:null,jetable:null},fr:{tempomail:null},de:{guerrillamail:null},biz:{guerrillamail:null}},Verimail.getLevenshteinDistance=function(t,e){try{e=!"0"[0]}catch(t){e=!0}return function(n,i){if(n==i)return 0;if(!n.length||!i.length)return i.length||n.length;e&&(n=n.split(""),i=i.split(""));for(var a,s,o,r=n.length+1,l=i.length+1,u=0,c=0,d=[[0]];++c<l;)d[0][c]=c;for(c=0;++c<r;){for(o=s=0,a=n[u],d[c]=[c];++s<l;)d[c][s]=t(d[u][s]+1,d[c][o]+1,d[u][o]+(a!=i[o])),++o;++u}return d[r-1][l-1]}}(Math.min,!1),Verimail.getClosestString=function(t,e,n,i){n=n||.5;var a=Number.MAX_VALUE,s=!1;if(i=i||Verimail.getLevenshteinDistance,!(t in e))for(var o in e){var r=i(t,o);r<a&&r/t.length<n&&(a=r,s=o)}return s},Verimail.getClosestTld=function(t,e,n){return Verimail.getClosestString(t,Verimail.MostCommonTlds,e,n)},Verimail.getClosestEmailDomain=function(t,e,n){return Verimail.getClosestString(t,Verimail.MostCommonEmailDomains,e,n)},Verimail.testEmailFormat=function(t){return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(t)},Verimail.prototype.setLanguage=function(t,e){this.options.language=t&&t in Verimail.Language?t:e},Verimail.prototype.getLanguageText=function(t,e){var n=Verimail.Language[this.options.language][t];return e&&(n=n.replace("%s",e)),this.options.richTextMessages||(n=Verimail.stripHtml(n)),n},Verimail.stripHtml=function(t){if(null!=t&&-1!=t.indexOf("<"))if("undefined"!=typeof document){var e=document.createElement("DIV");e.innerHTML=t,t=e.textContent||e.innerText}else t=t.replace(/(<([^>]+)>)/gi,"");return t},Verimail.getEmailAddressSegments=function(t){for(var e="local",n={local:"",domain:"",tld:""},i=0;i<t.length;++i){var a=t.charAt(i);switch(e){case"local":"@"==a?e="domain":n.local+=a;break;case"domain":"."==a?e="tld":n.domain+=a;break;case"tld":"."==a?(n.domain+="."+n.tld,n.tld=""):n.tld+=a}}return n.fullDomain=n.domain+"."+n.tld,n},Verimail.prototype.verify=function(t,e){var n=null,i=null,a=null,s=function(t){return"<span class='correction'>"+t+"</span>"};if(!(t=(t||"").toLowerCase())||0==t.length||t.replace&&0==t.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ").length)n=Verimail.Status.EmptyError,i=this.getLanguageText("empty");else if(Verimail.testEmailFormat(t)){var o=Verimail.getEmailAddressSegments(t);if(this.options.denyTempEmailDomains&&o.tld in Verimail.TempEmailDomains&&o.domain in Verimail.TempEmailDomains[o.tld])n=Verimail.Status.BlockedError,i=this.getLanguageText("domainBlocked",o.fullDomain);else if(this.options.enforceTld)if(o.tld){if(!(o.tld in Verimail.IANARegisteredTlds)){n=Verimail.Status.InvalidPart;var r,l=Verimail.getClosestTld(o.tld,10,this.options.distanceFunction);if(l)(r=Verimail.getClosestEmailDomain(o.domain+"."+l,.25,this.options.distanceFunction))?(a=o.local+"@"+r,i=this.getLanguageText("typo",o.local+"@"+s(r))):(a=o.local+"@"+o.domain+"."+l,i=this.getLanguageText("typo",o.local+"@"+o.domain+"."+s(l)));else i=this.getLanguageText("invalidTld",o.tld)}}else n=Verimail.Status.InvalidPart,i=this.getLanguageText("invalidFormat")}else n=Verimail.Status.SyntaxError,i=this.getLanguageText("invalidFormat");null!==n&&n!=Verimail.SyntaxError||((r=Verimail.getClosestEmailDomain(o.domain+"."+o.tld,.3,this.options.distanceFunction))?(n=Verimail.Status.CorrectSyntax,a=o.local+"@"+r,i=this.getLanguageText("typo",o.local+"@"+s(r))):(n=Verimail.Status.CorrectSyntax,i=i||this.getLanguageText("success")));e(n,i,a)},function(t,e,n,i){var a=function(e,n){this.element=e,this.$element=t(e),this.options=n};a.defaults=(a.prototype={defaults:{messageElement:null,statusElement:null,prefixName:"verimail",onStatusChange:null},init:function(){var e=this,n=this.config=t.extend({},this.defaults,this.options),i=this.instance=new Comfirm.AlphaMail.Verimail(this.config),a=function a(s){i.verify(s,function(i,o,r){var l="error",u=n.statusElement?t(n.statusElement):e.$element,c=i==Comfirm.AlphaMail.Verimail.Status.Pending;if(i>=0&&(l=c?"pending":"success"),n.onStatusChange&&n.onStatusChange(n,i,o,r),u.removeClass(n.prefixName+"-success").removeClass(n.prefixName+"-error").removeClass(n.prefixName+"-pending").addClass(n.prefixName+"-"+l),e.isPendingStatus=c,e.$element.data("verimail-status",l),n.messageElement){var d=t("<span>"+o+"</span>").addClass(l);if(r){var f=t("<a />").attr("href","#").click(function(){return s=r,e.$element.val(r),a(r),!1});t("span.suggestion",d).wrap(f)}t(n.messageElement).html(d)}})};return this.$element.val()&&this.$element.val().length>0&&a(this.$element.val()),this.$element.keyup(function(n){var i=t(this).val();e.timeoutId&&clearTimeout(e.timeoutId),e.isPendingStatus?e.timeoutId=setTimeout(function(){a(i)},500):a(i)}),this}}).defaults,t.fn.verimail=function(t){return this.each(function(){new a(this,t).init()})},t.fn.getVerimailStatus=function(){return this.data("verimail-status")}}(jQuery,window,document),function(t){t.extend(t.fn,{pstrength:function(e){e=t.extend({verdects:["PwdForbiddenPass","PwdTooShort","PwdInvalidChars","PwdVeryweak","PwdWeak","PwdMedium","PwdStrong","PwdVerystrong"],colors:["#f00","#f00","#f00","#f00","#c06","#f60","#3c0","#3f0"],scores:[-200,-100,-50,10,15,30,40],pcts:[0,5,0,10,25,50,75,92],common:["password","sex","god","123456","123","liverpool","letmein","qwerty","monkey"],minchar:4},e);return this.each(function(){var n=t(this).attr("id");t(this).after('<div class="pstrength-minchar" id="'+n+'_minchar">Minimum number of characters is '+e.minchar+"</div>"),t(this).after('<div class="pstrength-info" id="'+n+'_text"></div>'),t(this).after('<div class="pstrength-bar" id="'+n+'_bar" style="border: 1px solid white; font-size: 1px; height: 5px; width: 0px;"></div>'),t(this).keyup(function(){t.fn.runPassword(t(this).val(),n,e)})})},SetPwdClass:function(t,e,n,i,a){var s="#"+e+"_bar",o="#"+e+"_text";strColor=n.colors[i],strText=GetLocalizedString(n.verdects[i]),t(s).css({width:a+"%"}),t(s).css({backgroundColor:strColor}),t(o).html("<span style='color: "+strColor+";'>"+strText+"</span>")},runPassword:function(e,n,i){var a;for(a in nPerc=t.fn.checkPassword(e,i),i.scores)if(nPerc<=i.scores[a]){t.fn.SetPwdClass(t,n,i,a,i.pcts[a]);break}},checkPassword:function(t,e){var n=0;e.verdects[0];if(t.length<e.minchar)return n=-100;if(t.length>=e.minchar&&t.length<=e.minchar+2?n+=6:t.length>=e.minchar+3&&t.length<=e.minchar+4?n+=12:t.length>=e.minchar+5&&(n+=18),t.match(/[a-z]/)&&(n+=1),t.match(/[A-Z]/)&&(n+=5),t.match(/\d+/)&&(n+=5),t.match(/[^a-zA-Z0-9]+/))return n=-50;t.match(/(.*[0-9].*[0-9].*[0-9])/)&&(n+=7),t.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(n+=6),t.match(/([a-zA-Z])/)&&t.match(/([0-9])/)&&(n+=3);for(var i=0;i<e.common.length;i++)t.toLowerCase()==e.common[i]&&(n=-200);return n}})}(jQuery),function(t){if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==("undefined"==typeof exports?"undefined":_typeof(exports)))module.exports=t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var a,s,o,r,l,u,c,d={},f=!0,h=!1,p=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],b=["days","months","years","decades"],y=["top","bottom","auto"],v=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},C={},_=function(){return void 0!==e.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone},k=function(t){var n;return n=void 0===t||null===t?e():e.isDate(t)||e.isMoment(t)?e(t):_()?e.tz(t,u,i.useStrict,i.timeZone):e(t,u,i.useStrict),_()&&n.tz(i.timeZone),n},T=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},$=function(){return T("h")||T("m")||T("s")},S=function(){return T("y")||T("M")||T("d")},D=function(){var e=t("<tr>"),n=t("<tr>"),a=t("<tr>");return T("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),a.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(i.icons.down))))),T("m")&&(T("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),a.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),a.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(i.icons.down))))),T("s")&&(T("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),a.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),a.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(i.icons.down))))),r||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),a.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,a]))},j=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(i.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(i.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]}()),a=t("<div>").addClass("timepicker").append(function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),a=[D()];return T("h")&&a.push(e),T("m")&&a.push(n),T("s")&&a.push(i),a}()),s=t("<ul>").addClass("list-unstyled"),o=t("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(function(){var e=[];return i.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(t("<span>").addClass(i.icons.today)))),!i.sideBySide&&S()&&$()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(t("<span>").addClass(i.icons.time)))),i.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(t("<span>").addClass(i.icons.clear)))),i.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(t("<span>").addClass(i.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))}());return i.inline&&e.removeClass("dropdown-menu"),r&&e.addClass("usetwentyfour"),T("s")&&!r&&e.addClass("wider"),i.sideBySide&&S()&&$()?(e.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&e.append(o),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(a.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&e.append(o),e):("top"===i.toolbarPlacement&&s.append(o),S()&&s.append(t("<li>").addClass(i.collapse&&$()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&s.append(o),$()&&s.append(t("<li>").addClass(i.collapse&&S()?"collapse":"").append(a)),"bottom"===i.toolbarPlacement&&s.append(o),e.append(s))},F=function(){var e,a=(h||n).position(),s=(h||n).offset(),o=i.widgetPositioning.vertical,r=i.widgetPositioning.horizontal;if(i.widgetParent)e=i.widgetParent.append(p);else if(n.is("input"))e=n.after(p).parent();else{if(i.inline)return void(e=n.append(p));e=n,n.children().first().after(p)}if("auto"===o&&(o=s.top+1.5*p.height()>=t(window).height()+t(window).scrollTop()&&p.height()+n.outerHeight()<s.top?"top":"bottom"),"auto"===r&&(r=e.width()<s.left+p.outerWidth()/2&&s.left+p.outerWidth()>t(window).width()?"right":"left"),"top"===o?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===r?p.addClass("pull-right"):p.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter(function(){return"static"!==t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");p.css({top:"top"===o?"auto":a.top+n.outerHeight(),bottom:"top"===o?e.outerHeight()-(e===n?0:a.top):"auto",left:"left"===r?e===n?0:a.left:"auto",right:"left"===r?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:a.left)})},E=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},P=function(t){"y"===t&&(t="YYYY"),E({type:"dp.update",change:t,viewDate:s.clone()})},V=function(t){p&&(t&&(c=Math.max(m,Math.min(3,c+t))),p.find(".datepicker > div").hide().filter(".datepicker-"+g[c].clsName).show())},M=function(e,n){if(!e.isValid())return!1;if(i.disabledDates&&"d"===n&&function(t){return!0===i.disabledDates[t.format("YYYY-MM-DD")]}(e))return!1;if(i.enabledDates&&"d"===n&&!function(t){return!0===i.enabledDates[t.format("YYYY-MM-DD")]}(e))return!1;if(i.minDate&&e.isBefore(i.minDate,n))return!1;if(i.maxDate&&e.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(e.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&function(t){return!0===i.disabledHours[t.format("H")]}(e))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!function(t){return!0===i.enabledHours[t.format("H")]}(e))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var a=!1;if(t.each(i.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return a=!0,!1}),a)return!1}return!0},O=function(){var t,n=p.find(".datepicker-decades"),o=n.find("th"),r=e({y:s.year()-s.year()%100-1}),l=r.clone().add(100,"y"),u=r.clone(),c=!1,d=!1,f="";for(o.eq(0).find("span").attr("title",i.tooltips.prevCentury),o.eq(2).find("span").attr("title",i.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(r.isSame(e({y:1900}))||i.minDate&&i.minDate.isAfter(r,"y"))&&o.eq(0).addClass("disabled"),o.eq(1).text(r.year()+"-"+l.year()),(r.isSame(e({y:2e3}))||i.maxDate&&i.maxDate.isBefore(l,"y"))&&o.eq(2).addClass("disabled");!r.isAfter(l,"y");)t=r.year()+12,c=i.minDate&&i.minDate.isAfter(r,"y")&&i.minDate.year()<=t,d=i.maxDate&&i.maxDate.isAfter(r,"y")&&i.maxDate.year()<=t,f+='<span data-action="selectDecade" class="decade'+(a.isAfter(r)&&a.year()<=t?" active":"")+(M(r,"y")||c||d?"":" disabled")+'" data-selection="'+(r.year()+6)+'">'+(r.year()+1)+" - "+(r.year()+12)+"</span>",r.add(12,"y");f+="<span></span><span></span><span></span>",n.find("td").html(f),o.eq(1).text(u.year()+1+"-"+r.year())},A=function(){var e,n,o,r=p.find(".datepicker-days"),l=r.find("th"),u=[],c=[];if(S()){for(l.eq(0).find("span").attr("title",i.tooltips.prevMonth),l.eq(1).attr("title",i.tooltips.selectMonth),l.eq(2).find("span").attr("title",i.tooltips.nextMonth),r.find(".disabled").removeClass("disabled"),l.eq(1).text(s.format(i.dayViewHeaderFormat)),M(s.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),M(s.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),e=s.clone().startOf("M").startOf("w").startOf("d"),o=0;o<42;o++)0===e.weekday()&&(n=t("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),u.push(n)),c=["day"],e.isBefore(s,"M")&&c.push("old"),e.isAfter(s,"M")&&c.push("new"),e.isSame(a,"d")&&!f&&c.push("active"),M(e,"d")||c.push("disabled"),e.isSame(k(),"d")&&c.push("today"),0!==e.day()&&6!==e.day()||c.push("weekend"),E({type:"dp.classify",date:e,classNames:c}),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+c.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");r.find("tbody").empty().append(u),function(){var e=p.find(".datepicker-months"),n=e.find("th"),o=e.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),M(s.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(s.year()),M(s.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),o.removeClass("active"),a.isSame(s,"y")&&!f&&o.eq(a.month()).addClass("active"),o.each(function(e){M(s.clone().month(e),"M")||t(this).addClass("disabled")})}(),function(){var t=p.find(".datepicker-years"),e=t.find("th"),n=s.clone().subtract(5,"y"),o=s.clone().add(6,"y"),r="";for(e.eq(0).find("span").attr("title",i.tooltips.prevDecade),e.eq(1).attr("title",i.tooltips.selectDecade),e.eq(2).find("span").attr("title",i.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+o.year()),i.maxDate&&i.maxDate.isBefore(o,"y")&&e.eq(2).addClass("disabled");!n.isAfter(o,"y");)r+='<span data-action="selectYear" class="year'+(n.isSame(a,"y")&&!f?" active":"")+(M(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(r)}(),O()}},q=function(){var e=p.find(".timepicker-hours table"),n=s.clone().startOf("d"),i=[],a=t("<tr>");for(s.hour()>11&&!r&&n.hour(12);n.isSame(s,"d")&&(r||s.hour()<12&&n.hour()<12||s.hour()>11);)n.hour()%4==0&&(a=t("<tr>"),i.push(a)),a.append('<td data-action="selectHour" class="hour'+(M(n,"h")?"":" disabled")+'">'+n.format(r?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(i)},R=function(){for(var e=p.find(".timepicker-minutes table"),n=s.clone().startOf("h"),a=[],o=t("<tr>"),r=1===i.stepping?5:i.stepping;s.isSame(n,"h");)n.minute()%(4*r)==0&&(o=t("<tr>"),a.push(o)),o.append('<td data-action="selectMinute" class="minute'+(M(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(r,"m");e.empty().append(a)},z=function(){for(var e=p.find(".timepicker-seconds table"),n=s.clone().startOf("m"),i=[],a=t("<tr>");s.isSame(n,"m");)n.second()%20==0&&(a=t("<tr>"),i.push(a)),a.append('<td data-action="selectSecond" class="second'+(M(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(i)},I=function(){var t,e,n;p&&(A(),n=p.find(".timepicker span[data-time-component]"),r||(t=p.find(".timepicker [data-action=togglePeriod]"),e=a.clone().add(a.hours()>=12?-12:12,"h"),t.text(a.format("A")),M(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(a.format(r?"HH":"hh")),n.filter("[data-time-component=minutes]").text(a.format("mm")),n.filter("[data-time-component=seconds]").text(a.format("ss")),q(),R(),z())},H=function(t){var e=f?null:a;if(!t)return f=!0,o.val(""),n.data("date",""),E({type:"dp.change",date:!1,oldDate:e}),void I();if(t=t.clone().locale(i.locale),_()&&t.tz(i.timeZone),1!==i.stepping)for(t.minutes(Math.round(t.minutes()/i.stepping)*i.stepping).seconds(0);i.minDate&&t.isBefore(i.minDate);)t.add(i.stepping,"minutes");M(t)?(s=(a=t).clone(),o.val(a.format(l)),n.data("date",a.format(l)),f=!1,I(),E({type:"dp.change",date:a.clone(),oldDate:e})):(i.keepInvalid?E({type:"dp.change",date:t,oldDate:e}):o.val(f?"":a.format(l)),E({type:"dp.error",date:t,oldDate:e}))},N=function(){var e=!1;return p?(p.find(".collapse").each(function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)}),e?d:(h&&h.hasClass("btn")&&h.toggleClass("active"),p.hide(),t(window).off("resize",F),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,E({type:"dp.hide",date:a.clone()}),o.blur(),s=a.clone(),d)):d},L=function(){H(null)},Q=function(t){return void 0===i.parseInputDate?(!e.isMoment(t)||t instanceof Date)&&(t=k(t)):t=i.parseInputDate(t),t},B={next:function(){var t=g[c].navFnc;s.add(g[c].navStep,t),A(),P(t)},previous:function(){var t=g[c].navFnc;s.subtract(g[c].navStep,t),A(),P(t)},pickerSwitch:function(){V(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));s.month(n),c===m?(H(a.clone().year(s.year()).month(s.month())),i.inline||N()):(V(-1),A()),P("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;s.year(n),c===m?(H(a.clone().year(s.year())),i.inline||N()):(V(-1),A()),P("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;s.year(n),c===m?(H(a.clone().year(s.year())),i.inline||N()):(V(-1),A()),P("YYYY")},selectDay:function(e){var n=s.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),H(n.date(parseInt(t(e.target).text(),10))),$()||i.keepOpen||i.inline||N()},incrementHours:function(){var t=a.clone().add(1,"h");M(t,"h")&&H(t)},incrementMinutes:function(){var t=a.clone().add(i.stepping,"m");M(t,"m")&&H(t)},incrementSeconds:function(){var t=a.clone().add(1,"s");M(t,"s")&&H(t)},decrementHours:function(){var t=a.clone().subtract(1,"h");M(t,"h")&&H(t)},decrementMinutes:function(){var t=a.clone().subtract(i.stepping,"m");M(t,"m")&&H(t)},decrementSeconds:function(){var t=a.clone().subtract(1,"s");M(t,"s")&&H(t)},togglePeriod:function(){H(a.clone().add(a.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,a=t(e.target),s=a.closest("ul"),o=s.find(".in"),r=s.find(".collapse:not(.in)");if(o&&o.length){if((n=o.data("collapse"))&&n.transitioning)return;o.collapse?(o.collapse("hide"),r.collapse("show")):(o.removeClass("in"),r.addClass("in")),a.is("span")?a.toggleClass(i.icons.time+" "+i.icons.date):a.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);r||(a.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),H(a.clone().hours(n)),B.showPicker.call(d)},selectMinute:function(e){H(a.clone().minutes(parseInt(t(e.target).text(),10))),B.showPicker.call(d)},selectSecond:function(e){H(a.clone().seconds(parseInt(t(e.target).text(),10))),B.showPicker.call(d)},clear:L,today:function(){var t=k();M(t,"d")&&H(t)},close:N},W=function(e){return!t(e.currentTarget).is(".disabled")&&(B[t(e.currentTarget).data("action")].apply(d,arguments),!1)},Y=function(){var e;return o.prop("disabled")||!i.ignoreReadonly&&o.prop("readonly")||p?d:(void 0!==o.val()&&0!==o.val().trim().length?H(Q(o.val().trim())):f&&i.useCurrent&&(i.inline||o.is("input")&&0===o.val().trim().length)&&(e=k(),"string"==typeof i.useCurrent&&(e={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}}[i.useCurrent](e)),H(e)),p=j(),function(){var e=t("<tr>"),n=s.clone().startOf("w").startOf("d");for(!0===i.calendarWeeks&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(s.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(e)}(),function(){for(var e=[],n=s.clone().startOf("y").startOf("d");n.isSame(s,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(e)}(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),I(),V(),t(window).on("resize",F),p.on("click","[data-action]",W),p.on("mousedown",!1),h&&h.hasClass("btn")&&h.toggleClass("active"),F(),p.show(),i.focusOnShow&&!o.is(":focus")&&o.focus(),E({type:"dp.show"}),d)},Z=function(){return p?N():Y()},J=function(t){var e,n,a,s,o=null,r=[],l={},u=t.which;for(e in C[u]="p",C)C.hasOwnProperty(e)&&"p"===C[e]&&(r.push(e),parseInt(e,10)!==u&&(l[e]=!0));for(e in i.keyBinds)if(i.keyBinds.hasOwnProperty(e)&&"function"==typeof i.keyBinds[e]&&((a=e.split(" ")).length===r.length&&x[u]===a[a.length-1])){for(s=!0,n=a.length-2;n>=0;n--)if(!(x[a[n]]in l)){s=!1;break}if(s){o=i.keyBinds[e];break}}o&&(o.call(d,p),t.stopPropagation(),t.preventDefault())},U=function(t){C[t.which]="r",t.stopPropagation(),t.preventDefault()},K=function(e){var n=t(e.target).val().trim(),i=n?Q(n):null;return H(i),e.stopImmediatePropagation(),!1},X=function(e){var n={};return t.each(e,function(){var t=Q(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(n).length&&n},G=function(e){var n={};return t.each(e,function(){n[this]=!0}),!!Object.keys(n).length&&n},tt=function(){var t=i.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(a.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return a.localeData().longDateFormat(t)||t})}),(u=i.extraFormats?i.extraFormats.slice():[]).indexOf(t)<0&&u.indexOf(l)<0&&u.push(l),r=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(m=2),T("M")&&(m=1),T("d")&&(m=0),c=Math.max(m,c),f||H(a)};if(d.destroy=function(){N(),o.off({change:K,blur:blur,keydown:J,keyup:U,focus:i.allowInputToggle?N:""}),n.is("input")?o.off({focus:Y}):h&&(h.off("click",Z),h.off("mousedown",!1)),n.removeData("DateTimePicker"),n.removeData("date")},d.toggle=Z,d.show=Y,d.hide=N,d.disable=function(){return N(),h&&h.hasClass("btn")&&h.addClass("disabled"),o.prop("disabled",!0),d},d.enable=function(){return h&&h.hasClass("btn")&&h.removeClass("disabled"),o.prop("disabled",!1),d},d.ignoreReadonly=function(t){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=t,d},d.options=function(e){if(0===arguments.length)return t.extend(!0,{},i);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,i,e),t.each(i,function(t,e){if(void 0===d[t])throw new TypeError("option "+t+" is not recognized!");d[t](e)}),d},d.date=function(t){if(0===arguments.length)return f?null:a.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return H(null===t?null:Q(t)),d},d.format=function(t){if(0===arguments.length)return i.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);return i.format=t,l&&tt(),d},d.timeZone=function(t){if(0===arguments.length)return i.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return i.timeZone=t,d},d.dayViewHeaderFormat=function(t){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=t,d},d.extraFormats=function(t){if(0===arguments.length)return i.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=t,u&&tt(),d},d.disabledDates=function(e){if(0===arguments.length)return i.disabledDates?t.extend({},i.disabledDates):i.disabledDates;if(!e)return i.disabledDates=!1,I(),d;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=X(e),i.enabledDates=!1,I(),d},d.enabledDates=function(e){if(0===arguments.length)return i.enabledDates?t.extend({},i.enabledDates):i.enabledDates;if(!e)return i.enabledDates=!1,I(),d;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=X(e),i.disabledDates=!1,I(),d},d.daysOfWeekDisabled=function(t){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return i.daysOfWeekDisabled=!1,I(),d;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=t.reduce(function(t,e){return(e=parseInt(e,10))>6||e<0||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var e=0;!M(a,"d");){if(a.add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}H(a)}return I(),d},d.maxDate=function(t){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof t&&!1===t)return i.maxDate=!1,I(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=k()));var e=Q(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(i.minDate&&e.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return i.maxDate=e,i.useCurrent&&!i.keepInvalid&&a.isAfter(t)&&H(i.maxDate),s.isAfter(e)&&(s=e.clone().subtract(i.stepping,"m")),I(),d},d.minDate=function(t){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof t&&!1===t)return i.minDate=!1,I(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=k()));var e=Q(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(i.maxDate&&e.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return i.minDate=e,i.useCurrent&&!i.keepInvalid&&a.isBefore(t)&&H(i.minDate),s.isBefore(e)&&(s=e.clone().add(i.stepping,"m")),I(),d},d.defaultDate=function(t){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!t)return i.defaultDate=!1,d;"string"==typeof t&&(t="now"===t||"moment"===t?k():k(t));var e=Q(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!M(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=e,(i.defaultDate&&i.inline||""===o.val().trim())&&H(i.defaultDate),d},d.locale=function(t){if(0===arguments.length)return i.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return i.locale=t,a.locale(i.locale),s.locale(i.locale),l&&tt(),p&&(N(),Y()),d},d.stepping=function(t){return 0===arguments.length?i.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),i.stepping=t,d)},d.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return i.useCurrent=t,d},d.collapse=function(t){if(0===arguments.length)return i.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===t?d:(i.collapse=t,p&&(N(),Y()),d)},d.icons=function(e){if(0===arguments.length)return t.extend({},i.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(i.icons,e),p&&(N(),Y()),d},d.tooltips=function(e){if(0===arguments.length)return t.extend({},i.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(i.tooltips,e),p&&(N(),Y()),d},d.useStrict=function(t){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=t,d},d.sideBySide=function(t){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=t,p&&(N(),Y()),d},d.viewMode=function(t){if(0===arguments.length)return i.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===b.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+b.join(", ")+") value");return i.viewMode=t,c=Math.max(b.indexOf(t),m),V(),d},d.toolbarPlacement=function(t){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return i.toolbarPlacement=t,p&&(N(),Y()),d},d.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===v.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+v.join(", ")+")");i.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=e.vertical}return I(),d},d.calendarWeeks=function(t){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=t,I(),d},d.showTodayButton=function(t){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=t,p&&(N(),Y()),d},d.showClear=function(t){if(0===arguments.length)return i.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=t,p&&(N(),Y()),d},d.widgetParent=function(e){if(0===arguments.length)return i.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=e,p&&(N(),Y()),d},d.keepOpen=function(t){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=t,d},d.focusOnShow=function(t){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=t,d},d.inline=function(t){if(0===arguments.length)return i.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return i.inline=t,d},d.clear=function(){return L(),d},d.keyBinds=function(t){return 0===arguments.length?i.keyBinds:(i.keyBinds=t,d)},d.getMoment=function(t){return k(t)},d.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return i.debug=t,d},d.allowInputToggle=function(t){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=t,d},d.showClose=function(t){if(0===arguments.length)return i.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=t,d},d.keepInvalid=function(t){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=t,d},d.datepickerInput=function(t){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=t,d},d.parseInputDate=function(t){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=t,d},d.disabledTimeIntervals=function(e){if(0===arguments.length)return i.disabledTimeIntervals?t.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!e)return i.disabledTimeIntervals=!1,I(),d;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=e,I(),d},d.disabledHours=function(e){if(0===arguments.length)return i.disabledHours?t.extend({},i.disabledHours):i.disabledHours;if(!e)return i.disabledHours=!1,I(),d;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=G(e),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!M(a,"h");){if(a.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}H(a)}return I(),d},d.enabledHours=function(e){if(0===arguments.length)return i.enabledHours?t.extend({},i.enabledHours):i.enabledHours;if(!e)return i.enabledHours=!1,I(),d;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=G(e),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!M(a,"h");){if(a.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}H(a)}return I(),d},d.viewDate=function(t){if(0===arguments.length)return s.clone();if(!t)return s=a.clone(),d;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return s=Q(t),P(),d},n.is("input"))o=n;else if(0===(o=n.find(i.datepickerInput)).length)o=n.find("input");else if(!o.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(h=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return a=k(),s=a.clone(),t.extend(!0,i,function(){var e,a={};return(e=n.is("input")||i.inline?n.data():n.find("input").data()).dateOptions&&e.dateOptions instanceof Object&&(a=t.extend(!0,a,e.dateOptions)),t.each(i,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(a[t]=e[n])}),a}()),d.options(i),tt(),o.on({change:K,blur:i.debug?"":N,keydown:J,keyup:U,focus:i.allowInputToggle?Y:""}),n.is("input")?o.on({focus:Y}):h&&(h.on("click",Z),h.on("mousedown",!1)),o.prop("disabled")&&d.disable(),o.is("input")&&0!==o.val().trim().length?H(Q(o.val().trim())):i.defaultDate&&void 0===o.attr("placeholder")&&H(i.defaultDate),i.inline&&Y(),d};return t.fn.datetimepicker=function(e){e=e||{};var i,a=Array.prototype.slice.call(arguments,1),s=!0;if("object"==_typeof(e))return this.each(function(){var i,a=t(this);a.data("DateTimePicker")||(i=t.extend(!0,{},t.fn.datetimepicker.defaults,e),a.data("DateTimePicker",n(a,i)))});if("string"==typeof e)return this.each(function(){var n=t(this).data("DateTimePicker");if(!n)throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker');i=n[e].apply(n,a),s=i===n}),s||t.inArray(e,["destroy","hide","show","toggle"])>-1?this:i;throw new TypeError("Invalid arguments for DateTimePicker: "+e)},t.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t&&t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},t.fn.datetimepicker}),function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(n){return function(n,i){var a,s,o,r,l,u,c,d,f,h=1,p=n.length,m="";for(s=0;s<p;s++)if("string"==typeof n[s])m+=n[s];else if("object"==_typeof(n[s])){if((r=n[s]).keys)for(a=i[h],o=0;o<r.keys.length;o++){if(null==a)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',r.keys[o],r.keys[o-1]));a=a[r.keys[o]]}else a=r.param_no?i[r.param_no]:i[h++];if(t.not_type.test(r.type)&&t.not_primitive.test(r.type)&&a instanceof Function&&(a=a()),t.numeric_arg.test(r.type)&&"number"!=typeof a&&isNaN(a))throw new TypeError(e("[sprintf] expecting number but found %T",a));switch(t.number.test(r.type)&&(d=0<=a),r.type){case"b":a=parseInt(a,10).toString(2);break;case"c":a=String.fromCharCode(parseInt(a,10));break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,r.width?parseInt(r.width):0);break;case"e":a=r.precision?parseFloat(a).toExponential(r.precision):parseFloat(a).toExponential();break;case"f":a=r.precision?parseFloat(a).toFixed(r.precision):parseFloat(a);break;case"g":a=r.precision?String(Number(a.toPrecision(r.precision))):parseFloat(a);break;case"o":a=(parseInt(a,10)>>>0).toString(8);break;case"s":a=String(a),a=r.precision?a.substring(0,r.precision):a;break;case"t":a=String(!!a),a=r.precision?a.substring(0,r.precision):a;break;case"T":a=Object.prototype.toString.call(a).slice(8,-1).toLowerCase(),a=r.precision?a.substring(0,r.precision):a;break;case"u":a=parseInt(a,10)>>>0;break;case"v":a=a.valueOf(),a=r.precision?a.substring(0,r.precision):a;break;case"x":a=(parseInt(a,10)>>>0).toString(16);break;case"X":a=(parseInt(a,10)>>>0).toString(16).toUpperCase()}t.json.test(r.type)?m+=a:(!t.number.test(r.type)||d&&!r.sign?f="":(f=d?"+":"-",a=a.toString().replace(t.sign,"")),u=r.pad_char?"0"===r.pad_char?"0":r.pad_char.charAt(1):" ",c=r.width-(f+a).length,l=r.width&&0<c?u.repeat(c):"",m+=r.align?f+a+l:"0"===u?f+l+a:l+f+a)}return m}(function(e){if(i[e])return i[e];for(var n,a=e,s=[],o=0;a;){if(null!==(n=t.text.exec(a)))s.push(n[0]);else if(null!==(n=t.modulo.exec(a)))s.push("%");else{if(null===(n=t.placeholder.exec(a)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){o|=1;var r=[],l=n[2],u=[];if(null===(u=t.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(r.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=t.key_access.exec(l)))r.push(u[1]);else{if(null===(u=t.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");r.push(u[1])}n[2]=r}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}a=a.substring(n[0].length)}return i[e]=s}(n),arguments)}function n(t,n){return e.apply(null,[t].concat(n||[]))}var i=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=e,exports.vsprintf=n),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=n,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:n}}))}();