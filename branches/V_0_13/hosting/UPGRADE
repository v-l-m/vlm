This file traces the changes that are required for upgrading from a previous VLM version
From 0.12 to Next :

= All servers = 

  EDIT file ./conf/conf_script and change VLM SVNBRANCH to V_0_13

  RUN
    ./scripts/maj_scripts.sh

  EDIT file ./conf/param.php
    and add correct values for keys :
      define("VLM_PROXY_PASS", "PROXYPASS"); //Change the password to something else !!! This is needed for client passing IP infos to VLM

  ./scripts/maj_module.sh vlm-c
  RESTART apache


= Master Server =

BASE
  ./scripts/maj_module.sh base
  cd ./vlmcode/base/scripts/
  ./runupgrade.sh 0.13
  cd 

MOTEUR
  ./scripts/maj_module.sh moteur


= All servers =

  ./scripts/maj_module.sh lib/phpcommon
  ./scripts/maj_module.sh site
  ./scripts/maj_module.sh medias
___
From 0.11 to Next

= All servers =

HOSTING
  EDIT file ./conf/conf_script and change VLM SVNBRANCH to V_0_12

  RUN
    ./scripts/maj_scripts.sh

  EDIT file ./conf/param.php
    and add correct values for keys :
      define("DBMASTERSERVER", "127.0.0.1");
      define("DBMASTERUSER", "vlm");
      define("DBMASTERPASSWORD", "***");
      define("DBSLAVESERVER", "127.0.0.1");
      define("DBSLAVEUSER", "vlm");
      define("DBSLAVEPASSWORD", "***");

    and del keys :
      define("DBSERVER", "localhost");
      define("DBUSER", "vlm");
      define("DBPASSWORD", "***");

= Master Server =

BASE
  ./scripts/maj_module.sh base
  cd ./vlmcode/base/scripts/
  ./runupgrade.sh 0.12
  cd 

MOTEUR
  ./scripts/maj_module.sh lib/phpcommon
  ./scripts/maj_module.sh moteur
  
  Add the new clean-up script in the crontab
      2-59/5 * * * *     $VLMRACINE/testing/moteur/cron-vlm-clean.sh

= All servers =

  ./scripts/maj_module.sh lib/phpcommon
  ./scripts/maj_module.sh site
  ./scripts/maj_module.sh medias

From 0.10.2 To Next

=On the main database server=

==Hosting==
* Do the ./scripts/maj_scripts.sh

==Base==
* Please, update the base module
  ./scripts/maj_module.sh base

* Then see the UPDATE FILE in the base module

=On all servers :=

==Configuration==
* EDIT conf/param.php and add :
  - define("WEBINSTANCE_COUNT", 3);
  - define("WEBINSTANCE_1", "s9.virtual-loup-de-mer.org" );
  - define("WEBINSTANCE_2", "s10.virtual-loup-de-mer.org" );
  - define("WEBINSTANCE_3", "s11.virtual-loup-de-mer.org" );

==And update all others modules==

From 0.9.7 To next...

=Base=
* see the UPDATE FILE in the base module

=Configuration=
* EDIT hosting/conf/conf_script
 - add "export VLMPOLARS=$VLMDATAS/gshhs"
* EDIT hosting/conf/param.php and add
 - "define("POLARS_DIRECTORY", "/same/as/VLMPOLARS");"
* NB: the directory will be created automatically

To 0.9.5 from 0.9
_______________
(Do it in this order, please)

=Configuration=
* EDIT hosting/conf/conf_script
 - change the branch to V_9_5
 - add "export VLMLOG=$VLMTEMP" (or something else...)
 - optionally, add "export VLM_GRIB_MAX=36" (or whatever you wish)

=Moteur=
* be careful, the location of the scripts for getting externals positions has changed
  
To 0.9 from 0.8
_______________

(Do it in this order, please)

=Configuration=
* EDIT hosting/conf/conf_script
 - change the branch to V_0_9 
 - add "export VLMDATAS=$VLMRACINE/vlmdatas"
 - add "export VlMGSHHS=$VLMDATAS/gshhs"
* EDIT hosting/conf/param.php and add
 - "define("GSHHS_DIRECTORY", "/same/as/VLMGSHHS");"

=Hosting=

Update the script directory :
~/scripts/maj_scripts.sh
 
=Database=
 
See file UPDATE in the module "base"

=Grib=

Please run the new 'windserver' binary ASAP in order to have a correct segment in memory.

=Maps=

You have to make deployment of module maps :
 $ ./maj_module.sh maps
 
This is going to download gshhs files during the first deployment.

=Moteur=

You can check now that all is OK

= Others=

Just deploy other modules again (site, lib/phpcommon, medias)
